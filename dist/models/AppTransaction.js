"use strict";
// Copyright (c) 2023 Apple Inc. Licensed under MIT License.
Object.defineProperty(exports, "__esModule", { value: true });
exports.AppTransactionValidator = void 0;
const Environment_1 = require("./Environment");
class AppTransactionValidator {
    validate(obj) {
        if ((typeof obj['appAppleId'] !== 'undefined') && !(typeof obj['appAppleId'] === "number")) {
            return false;
        }
        if ((typeof obj['bundleId'] !== 'undefined') && !(typeof obj['bundleId'] === "string" || obj['bundleId'] instanceof String)) {
            return false;
        }
        if ((typeof obj['applicationVersion'] !== 'undefined') && !(typeof obj['applicationVersion'] === "string" || obj['applicationVersion'] instanceof String)) {
            return false;
        }
        if ((typeof obj['versionExternalIdentifier'] !== 'undefined') && !(typeof obj['versionExternalIdentifier'] === "number")) {
            return false;
        }
        if ((typeof obj['receiptCreationDate'] !== 'undefined') && !(typeof obj['receiptCreationDate'] === "number")) {
            return false;
        }
        if ((typeof obj['originalPurchaseDate'] !== 'undefined') && !(typeof obj['originalPurchaseDate'] === "number")) {
            return false;
        }
        if ((typeof obj['originalApplicationVersion'] !== 'undefined') && !(typeof obj['originalApplicationVersion'] === "string" || obj['originalApplicationVersion'] instanceof String)) {
            return false;
        }
        if ((typeof obj['deviceVerification'] !== 'undefined') && !(typeof obj['deviceVerification'] === "string" || obj['deviceVerification'] instanceof String)) {
            return false;
        }
        if ((typeof obj['deviceVerificationNonce'] !== 'undefined') && !(typeof obj['deviceVerificationNonce'] === "string" || obj['deviceVerificationNonce'] instanceof String)) {
            return false;
        }
        if ((typeof obj['preorderDate'] !== 'undefined') && !(typeof obj['preorderDate'] === "number")) {
            return false;
        }
        if ((typeof obj['environment'] !== 'undefined') && !(AppTransactionValidator.environmentValidator.validate(obj['environment']))) {
            return false;
        }
        return true;
    }
}
exports.AppTransactionValidator = AppTransactionValidator;
AppTransactionValidator.environmentValidator = new Environment_1.EnvironmentValidator();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXBwVHJhbnNhY3Rpb24uanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9tb2RlbHMvQXBwVHJhbnNhY3Rpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLDREQUE0RDs7O0FBRTVELCtDQUFpRTtBQXdGakUsTUFBYSx1QkFBdUI7SUFFaEMsUUFBUSxDQUFDLEdBQVE7UUFDYixJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsWUFBWSxDQUFDLEtBQUssV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLFlBQVksQ0FBQyxLQUFLLFFBQVEsQ0FBQyxFQUFFLENBQUM7WUFDekYsT0FBTyxLQUFLLENBQUE7UUFDaEIsQ0FBQztRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxVQUFVLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsVUFBVSxDQUFDLEtBQUssUUFBUSxJQUFJLEdBQUcsQ0FBQyxVQUFVLENBQUMsWUFBWSxNQUFNLENBQUMsRUFBRSxDQUFDO1lBQzFILE9BQU8sS0FBSyxDQUFBO1FBQ2hCLENBQUM7UUFDRCxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsb0JBQW9CLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsb0JBQW9CLENBQUMsS0FBSyxRQUFRLElBQUksR0FBRyxDQUFDLG9CQUFvQixDQUFDLFlBQVksTUFBTSxDQUFDLEVBQUUsQ0FBQztZQUN4SixPQUFPLEtBQUssQ0FBQTtRQUNoQixDQUFDO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLDJCQUEyQixDQUFDLEtBQUssV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLDJCQUEyQixDQUFDLEtBQUssUUFBUSxDQUFDLEVBQUUsQ0FBQztZQUN2SCxPQUFPLEtBQUssQ0FBQTtRQUNoQixDQUFDO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLHFCQUFxQixDQUFDLEtBQUssV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLHFCQUFxQixDQUFDLEtBQUssUUFBUSxDQUFDLEVBQUUsQ0FBQztZQUMzRyxPQUFPLEtBQUssQ0FBQTtRQUNoQixDQUFDO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLHNCQUFzQixDQUFDLEtBQUssV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLHNCQUFzQixDQUFDLEtBQUssUUFBUSxDQUFDLEVBQUUsQ0FBQztZQUM3RyxPQUFPLEtBQUssQ0FBQTtRQUNoQixDQUFDO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLDRCQUE0QixDQUFDLEtBQUssV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLDRCQUE0QixDQUFDLEtBQUssUUFBUSxJQUFJLEdBQUcsQ0FBQyw0QkFBNEIsQ0FBQyxZQUFZLE1BQU0sQ0FBQyxFQUFFLENBQUM7WUFDaEwsT0FBTyxLQUFLLENBQUE7UUFDaEIsQ0FBQztRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLFFBQVEsSUFBSSxHQUFHLENBQUMsb0JBQW9CLENBQUMsWUFBWSxNQUFNLENBQUMsRUFBRSxDQUFDO1lBQ3hKLE9BQU8sS0FBSyxDQUFBO1FBQ2hCLENBQUM7UUFDRCxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMseUJBQXlCLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMseUJBQXlCLENBQUMsS0FBSyxRQUFRLElBQUksR0FBRyxDQUFDLHlCQUF5QixDQUFDLFlBQVksTUFBTSxDQUFDLEVBQUUsQ0FBQztZQUN2SyxPQUFPLEtBQUssQ0FBQTtRQUNoQixDQUFDO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLGNBQWMsQ0FBQyxLQUFLLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxjQUFjLENBQUMsS0FBSyxRQUFRLENBQUMsRUFBRSxDQUFDO1lBQzdGLE9BQU8sS0FBSyxDQUFBO1FBQ2hCLENBQUM7UUFDRCxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsYUFBYSxDQUFDLEtBQUssV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLHVCQUF1QixDQUFDLG9CQUFvQixDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDOUgsT0FBTyxLQUFLLENBQUE7UUFDaEIsQ0FBQztRQUNELE9BQU8sSUFBSSxDQUFBO0lBQ2YsQ0FBQzs7QUFyQ0wsMERBc0NDO0FBckNtQiw0Q0FBb0IsR0FBRyxJQUFJLGtDQUFvQixFQUFFLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIDIwMjMgQXBwbGUgSW5jLiBMaWNlbnNlZCB1bmRlciBNSVQgTGljZW5zZS5cblxuaW1wb3J0IHsgRW52aXJvbm1lbnQsIEVudmlyb25tZW50VmFsaWRhdG9yIH0gZnJvbSBcIi4vRW52aXJvbm1lbnRcIlxuaW1wb3J0IHsgVmFsaWRhdG9yIH0gZnJvbSBcIi4vVmFsaWRhdG9yXCJcblxuLyoqXG4gKiBJbmZvcm1hdGlvbiB0aGF0IHJlcHJlc2VudHMgdGhlIGN1c3RvbWVy4oCZcyBwdXJjaGFzZSBvZiB0aGUgYXBwLCBjcnlwdG9ncmFwaGljYWxseSBzaWduZWQgYnkgdGhlIEFwcCBTdG9yZS5cbiAqXG4gKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vc3RvcmVraXQvYXBwdHJhbnNhY3Rpb24gQXBwVHJhbnNhY3Rpb259XG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQXBwVHJhbnNhY3Rpb24ge1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNlcnZlciBlbnZpcm9ubWVudCB0aGF0IHNpZ25zIHRoZSBhcHAgdHJhbnNhY3Rpb24uXG4gICAgICogIFxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9zdG9yZWtpdC9hcHB0cmFuc2FjdGlvbi8zOTYzOTAxLWVudmlyb25tZW50IGVudmlyb25tZW50fVxuICAgICAqL1xuICAgIHJlY2VpcHRUeXBlPzogRW52aXJvbm1lbnQgfCBzdHJpbmdcbiAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgdGhlIEFwcCBTdG9yZSB1c2VzIHRvIGlkZW50aWZ5IHRoZSBhcHAuXG4gICAgICogIFxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9zdG9yZWtpdC9hcHB0cmFuc2FjdGlvbi8zOTU0NDM2LWFwcGlkIGFwcElkfVxuICAgICAqL1xuICAgIGFwcEFwcGxlSWQ/OiBudW1iZXJcbiAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgYnVuZGxlIGlkZW50aWZpZXIgdGhhdCB0aGUgYXBwIHRyYW5zYWN0aW9uIGFwcGxpZXMgdG8uXG4gICAgICogIFxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9zdG9yZWtpdC9hcHB0cmFuc2FjdGlvbi8zOTU0NDM5LWJ1bmRsZWlkIGJ1bmRsZUlkfVxuICAgICAqL1xuICAgIGJ1bmRsZUlkPzogc3RyaW5nXG4gICAgXG4gICAgLyoqXG4gICAgICogVGhlIGFwcCB2ZXJzaW9uIHRoYXQgdGhlIGFwcCB0cmFuc2FjdGlvbiBhcHBsaWVzIHRvLlxuICAgICAqICBcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vc3RvcmVraXQvYXBwdHJhbnNhY3Rpb24vMzk1NDQzNy1hcHB2ZXJzaW9uIGFwcFZlcnNpb259XG4gICAgICovXG4gICAgYXBwbGljYXRpb25WZXJzaW9uPzogc3RyaW5nXG4gICAgXG4gICAgLyoqXG4gICAgICogVGhlIHZlcnNpb24gZXh0ZXJuYWwgaWRlbnRpZmllciBvZiB0aGUgYXBwXG4gICAgICogIFxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9zdG9yZWtpdC9hcHB0cmFuc2FjdGlvbi8zOTU0NDM4LWFwcHZlcnNpb25pZCBhcHBWZXJzaW9uSUR9XG4gICAgICovXG4gICAgdmVyc2lvbkV4dGVybmFsSWRlbnRpZmllcj86IG51bWJlclxuICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSBkYXRlIHRoYXQgdGhlIEFwcCBTdG9yZSBzaWduZWQgdGhlIEpXUyBhcHAgdHJhbnNhY3Rpb24uXG4gICAgICogIFxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9zdG9yZWtpdC9hcHB0cmFuc2FjdGlvbi8zOTU0NDQ5LXNpZ25lZGRhdGUgc2lnbmVkRGF0ZX1cbiAgICAgKi9cbiAgICByZWNlaXB0Q3JlYXRpb25EYXRlPzogbnVtYmVyXG4gICAgXG4gICAgLyoqXG4gICAgICogVGhlIGRhdGUgdGhlIHVzZXIgb3JpZ2luYWxseSBwdXJjaGFzZWQgdGhlIGFwcCBmcm9tIHRoZSBBcHAgU3RvcmUuXG4gICAgICogIFxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9zdG9yZWtpdC9hcHB0cmFuc2FjdGlvbi8zOTU0NDQ4LW9yaWdpbmFscHVyY2hhc2VkYXRlIG9yaWdpbmFsUHVyY2hhc2VEYXRlfVxuICAgICAqL1xuICAgIG9yaWdpbmFsUHVyY2hhc2VEYXRlPzogbnVtYmVyXG4gICAgXG4gICAgLyoqXG4gICAgICogVGhlIGFwcCB2ZXJzaW9uIHRoYXQgdGhlIHVzZXIgb3JpZ2luYWxseSBwdXJjaGFzZWQgZnJvbSB0aGUgQXBwIFN0b3JlLlxuICAgICAqICBcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vc3RvcmVraXQvYXBwdHJhbnNhY3Rpb24vMzk1NDQ0Ny1vcmlnaW5hbGFwcHZlcnNpb24gb3JpZ2luYWxBcHBWZXJzaW9ufVxuICAgICAqL1xuICAgIG9yaWdpbmFsQXBwbGljYXRpb25WZXJzaW9uPzogc3RyaW5nXG4gICAgXG4gICAgLyoqXG4gICAgVGhlIEJhc2U2NCBkZXZpY2UgdmVyaWZpY2F0aW9uIHZhbHVlIHRvIHVzZSB0byB2ZXJpZnkgd2hldGhlciB0aGUgYXBwIHRyYW5zYWN0aW9uIGJlbG9uZ3MgdG8gdGhlIGRldmljZS5cblxuICAgIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9zdG9yZWtpdC9hcHB0cmFuc2FjdGlvbi8zOTU0NDQxLWRldmljZXZlcmlmaWNhdGlvbiBkZXZpY2VWZXJpZmljYXRpb259XG4gICAgKi9cbiAgICBkZXZpY2VWZXJpZmljYXRpb24/OiBzdHJpbmdcbiAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgVVVJRCB1c2VkIHRvIGNvbXB1dGUgdGhlIGRldmljZSB2ZXJpZmljYXRpb24gdmFsdWUuXG4gICAgICogXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL3N0b3Jla2l0L2FwcHRyYW5zYWN0aW9uLzM5NTQ0NDItZGV2aWNldmVyaWZpY2F0aW9ubm9uY2UgZGV2aWNlVmVyaWZpY2F0aW9uTm9uY2V9XG4gICAgKi9cbiAgICBkZXZpY2VWZXJpZmljYXRpb25Ob25jZT86IHN0cmluZ1xuICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSBkYXRlIHRoZSBjdXN0b21lciBwbGFjZWQgYW4gb3JkZXIgZm9yIHRoZSBhcHAgYmVmb3JlIGl04oCZcyBhdmFpbGFibGUgaW4gdGhlIEFwcCBTdG9yZS5cbiAgICAgKiAgXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL3N0b3Jla2l0L2FwcHRyYW5zYWN0aW9uLzQwMTMxNzUtcHJlb3JkZXJkYXRlIHByZW9yZGVyRGF0ZX1cbiAgICAqL1xuICAgIHByZW9yZGVyRGF0ZT86IG51bWJlclxufVxuXG5leHBvcnQgY2xhc3MgQXBwVHJhbnNhY3Rpb25WYWxpZGF0b3IgaW1wbGVtZW50cyBWYWxpZGF0b3I8QXBwVHJhbnNhY3Rpb24+IHtcbiAgICBzdGF0aWMgcmVhZG9ubHkgZW52aXJvbm1lbnRWYWxpZGF0b3IgPSBuZXcgRW52aXJvbm1lbnRWYWxpZGF0b3IoKVxuICAgIHZhbGlkYXRlKG9iajogYW55KTogb2JqIGlzIEFwcFRyYW5zYWN0aW9uIHtcbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydhcHBBcHBsZUlkJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKHR5cGVvZiBvYmpbJ2FwcEFwcGxlSWQnXSA9PT0gXCJudW1iZXJcIikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsnYnVuZGxlSWQnXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEodHlwZW9mIG9ialsnYnVuZGxlSWQnXSA9PT0gXCJzdHJpbmdcIiB8fCBvYmpbJ2J1bmRsZUlkJ10gaW5zdGFuY2VvZiBTdHJpbmcpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ2FwcGxpY2F0aW9uVmVyc2lvbiddICE9PSAndW5kZWZpbmVkJykgJiYgISh0eXBlb2Ygb2JqWydhcHBsaWNhdGlvblZlcnNpb24nXSA9PT0gXCJzdHJpbmdcIiB8fCBvYmpbJ2FwcGxpY2F0aW9uVmVyc2lvbiddIGluc3RhbmNlb2YgU3RyaW5nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWyd2ZXJzaW9uRXh0ZXJuYWxJZGVudGlmaWVyJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKHR5cGVvZiBvYmpbJ3ZlcnNpb25FeHRlcm5hbElkZW50aWZpZXInXSA9PT0gXCJudW1iZXJcIikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsncmVjZWlwdENyZWF0aW9uRGF0ZSddICE9PSAndW5kZWZpbmVkJykgJiYgISh0eXBlb2Ygb2JqWydyZWNlaXB0Q3JlYXRpb25EYXRlJ10gPT09IFwibnVtYmVyXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ29yaWdpbmFsUHVyY2hhc2VEYXRlJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKHR5cGVvZiBvYmpbJ29yaWdpbmFsUHVyY2hhc2VEYXRlJ10gPT09IFwibnVtYmVyXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ29yaWdpbmFsQXBwbGljYXRpb25WZXJzaW9uJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKHR5cGVvZiBvYmpbJ29yaWdpbmFsQXBwbGljYXRpb25WZXJzaW9uJ10gPT09IFwic3RyaW5nXCIgfHwgb2JqWydvcmlnaW5hbEFwcGxpY2F0aW9uVmVyc2lvbiddIGluc3RhbmNlb2YgU3RyaW5nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydkZXZpY2VWZXJpZmljYXRpb24nXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEodHlwZW9mIG9ialsnZGV2aWNlVmVyaWZpY2F0aW9uJ10gPT09IFwic3RyaW5nXCIgfHwgb2JqWydkZXZpY2VWZXJpZmljYXRpb24nXSBpbnN0YW5jZW9mIFN0cmluZykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsnZGV2aWNlVmVyaWZpY2F0aW9uTm9uY2UnXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEodHlwZW9mIG9ialsnZGV2aWNlVmVyaWZpY2F0aW9uTm9uY2UnXSA9PT0gXCJzdHJpbmdcIiB8fCBvYmpbJ2RldmljZVZlcmlmaWNhdGlvbk5vbmNlJ10gaW5zdGFuY2VvZiBTdHJpbmcpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ3ByZW9yZGVyRGF0ZSddICE9PSAndW5kZWZpbmVkJykgJiYgISh0eXBlb2Ygb2JqWydwcmVvcmRlckRhdGUnXSA9PT0gXCJudW1iZXJcIikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsnZW52aXJvbm1lbnQnXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEoQXBwVHJhbnNhY3Rpb25WYWxpZGF0b3IuZW52aXJvbm1lbnRWYWxpZGF0b3IudmFsaWRhdGUob2JqWydlbnZpcm9ubWVudCddKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgfVxufSJdfQ==