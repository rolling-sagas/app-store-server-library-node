"use strict";
// Copyright (c) 2023 Apple Inc. Licensed under MIT License.
Object.defineProperty(exports, "__esModule", { value: true });
exports.JWSTransactionDecodedPayloadValidator = void 0;
const Environment_1 = require("./Environment");
const InAppOwnershipType_1 = require("./InAppOwnershipType");
const OfferDiscountType_1 = require("./OfferDiscountType");
const OfferType_1 = require("./OfferType");
const RevocationReason_1 = require("./RevocationReason");
const TransactionReason_1 = require("./TransactionReason");
const Type_1 = require("./Type");
class JWSTransactionDecodedPayloadValidator {
    validate(obj) {
        if ((typeof obj['originalTransactionId'] !== 'undefined') && !(typeof obj['originalTransactionId'] === "string" || obj['originalTransactionId'] instanceof String)) {
            return false;
        }
        if ((typeof obj['transactionId'] !== 'undefined') && !(typeof obj['transactionId'] === "string" || obj['transactionId'] instanceof String)) {
            return false;
        }
        if ((typeof obj['webOrderLineItemId'] !== 'undefined') && !(typeof obj['webOrderLineItemId'] === "string" || obj['webOrderLineItemId'] instanceof String)) {
            return false;
        }
        if ((typeof obj['bundleId'] !== 'undefined') && !(typeof obj['bundleId'] === "string" || obj['bundleId'] instanceof String)) {
            return false;
        }
        if ((typeof obj['productId'] !== 'undefined') && !(typeof obj['productId'] === "string" || obj['productId'] instanceof String)) {
            return false;
        }
        if ((typeof obj['subscriptionGroupIdentifier'] !== 'undefined') && !(typeof obj['subscriptionGroupIdentifier'] === "string" || obj['subscriptionGroupIdentifier'] instanceof String)) {
            return false;
        }
        if ((typeof obj['purchaseDate'] !== 'undefined') && !(typeof obj['purchaseDate'] === "number")) {
            return false;
        }
        if ((typeof obj['originalPurchaseDate'] !== 'undefined') && !(typeof obj['originalPurchaseDate'] === "number")) {
            return false;
        }
        if ((typeof obj['expiresDate'] !== 'undefined') && !(typeof obj['expiresDate'] === "number")) {
            return false;
        }
        if ((typeof obj['quantity'] !== 'undefined') && !(typeof obj['quantity'] === 'number')) {
            return false;
        }
        if ((typeof obj['type'] !== 'undefined') && !(JWSTransactionDecodedPayloadValidator.typeValidator.validate(obj['type']))) {
            return false;
        }
        if ((typeof obj['appAccountToken'] !== 'undefined') && !(typeof obj['appAccountToken'] === "string" || obj['appAccountToken'] instanceof String)) {
            return false;
        }
        if ((typeof obj['inAppOwnershipType'] !== 'undefined') && !(JWSTransactionDecodedPayloadValidator.inAppOwnershipTypeValidator.validate(obj['inAppOwnershipType']))) {
            return false;
        }
        if ((typeof obj['signedDate'] !== 'undefined') && !(typeof obj['signedDate'] === "number")) {
            return false;
        }
        if ((typeof obj['revocationReason'] !== 'undefined') && !(JWSTransactionDecodedPayloadValidator.revocationReasonValidator.validate(obj['revocationReason']))) {
            return false;
        }
        if ((typeof obj['revocationDate'] !== 'undefined') && !(typeof obj['revocationDate'] === "number")) {
            return false;
        }
        if ((typeof obj['isUpgraded'] !== 'undefined') && !(typeof obj['isUpgraded'] === "boolean" || obj['isUpgraded'] instanceof Boolean)) {
            return false;
        }
        if ((typeof obj['offerType'] !== 'undefined') && !(JWSTransactionDecodedPayloadValidator.offerTypeValidator.validate(obj['offerType']))) {
            return false;
        }
        if ((typeof obj['offerIdentifier'] !== 'undefined') && !(typeof obj['offerIdentifier'] === "string" || obj['offerIdentifier'] instanceof String)) {
            return false;
        }
        if ((typeof obj['environment'] !== 'undefined') && !(JWSTransactionDecodedPayloadValidator.environmentValidator.validate(obj['environment']))) {
            return false;
        }
        if ((typeof obj['storefront'] !== 'undefined') && !(typeof obj['storefront'] === "string" || obj['storefront'] instanceof String)) {
            return false;
        }
        if ((typeof obj['storefrontId'] !== 'undefined') && !(typeof obj['storefrontId'] === "string" || obj['storefrontId'] instanceof String)) {
            return false;
        }
        if ((typeof obj['transactionReason'] !== 'undefined') && !(JWSTransactionDecodedPayloadValidator.transactionReasonValidator.validate(obj['transactionReason']))) {
            return false;
        }
        if ((typeof obj['currency'] !== 'undefined') && !(typeof obj['currency'] === "string" || obj['currency'] instanceof String)) {
            return false;
        }
        if ((typeof obj['price'] !== 'undefined') && !(typeof obj['price'] === "number")) {
            return false;
        }
        if ((typeof obj['offerDiscountType'] !== 'undefined') && !(JWSTransactionDecodedPayloadValidator.offerDiscountTypeValidator.validate(obj['offerDiscountType']))) {
            return false;
        }
        return true;
    }
}
exports.JWSTransactionDecodedPayloadValidator = JWSTransactionDecodedPayloadValidator;
JWSTransactionDecodedPayloadValidator.environmentValidator = new Environment_1.EnvironmentValidator();
JWSTransactionDecodedPayloadValidator.offerTypeValidator = new OfferType_1.OfferTypeValidator();
JWSTransactionDecodedPayloadValidator.revocationReasonValidator = new RevocationReason_1.RevocationReasonValidator();
JWSTransactionDecodedPayloadValidator.inAppOwnershipTypeValidator = new InAppOwnershipType_1.InAppOwnershipTypeValidator();
JWSTransactionDecodedPayloadValidator.typeValidator = new Type_1.TypeValidator();
JWSTransactionDecodedPayloadValidator.transactionReasonValidator = new TransactionReason_1.TransactionReasonValidator();
JWSTransactionDecodedPayloadValidator.offerDiscountTypeValidator = new OfferDiscountType_1.OfferDiscountTypeValidator();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiSldTVHJhbnNhY3Rpb25EZWNvZGVkUGF5bG9hZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL21vZGVscy9KV1NUcmFuc2FjdGlvbkRlY29kZWRQYXlsb2FkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSw0REFBNEQ7OztBQUc1RCwrQ0FBaUU7QUFDakUsNkRBQXNGO0FBQ3RGLDJEQUFtRjtBQUNuRiwyQ0FBMkQ7QUFDM0QseURBQWdGO0FBQ2hGLDJEQUFtRjtBQUNuRixpQ0FBNEM7QUFrTTVDLE1BQWEscUNBQXFDO0lBUTlDLFFBQVEsQ0FBQyxHQUFRO1FBQ2IsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLHVCQUF1QixDQUFDLEtBQUssV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLHVCQUF1QixDQUFDLEtBQUssUUFBUSxJQUFJLEdBQUcsQ0FBQyx1QkFBdUIsQ0FBQyxZQUFZLE1BQU0sQ0FBQyxFQUFFLENBQUM7WUFDakssT0FBTyxLQUFLLENBQUE7UUFDaEIsQ0FBQztRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxlQUFlLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsZUFBZSxDQUFDLEtBQUssUUFBUSxJQUFJLEdBQUcsQ0FBQyxlQUFlLENBQUMsWUFBWSxNQUFNLENBQUMsRUFBRSxDQUFDO1lBQ3pJLE9BQU8sS0FBSyxDQUFBO1FBQ2hCLENBQUM7UUFDRCxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsb0JBQW9CLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsb0JBQW9CLENBQUMsS0FBSyxRQUFRLElBQUksR0FBRyxDQUFDLG9CQUFvQixDQUFDLFlBQVksTUFBTSxDQUFDLEVBQUUsQ0FBQztZQUN4SixPQUFPLEtBQUssQ0FBQTtRQUNoQixDQUFDO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLFVBQVUsQ0FBQyxLQUFLLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxVQUFVLENBQUMsS0FBSyxRQUFRLElBQUksR0FBRyxDQUFDLFVBQVUsQ0FBQyxZQUFZLE1BQU0sQ0FBQyxFQUFFLENBQUM7WUFDMUgsT0FBTyxLQUFLLENBQUE7UUFDaEIsQ0FBQztRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxXQUFXLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsV0FBVyxDQUFDLEtBQUssUUFBUSxJQUFJLEdBQUcsQ0FBQyxXQUFXLENBQUMsWUFBWSxNQUFNLENBQUMsRUFBRSxDQUFDO1lBQzdILE9BQU8sS0FBSyxDQUFBO1FBQ2hCLENBQUM7UUFDRCxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsNkJBQTZCLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsNkJBQTZCLENBQUMsS0FBSyxRQUFRLElBQUksR0FBRyxDQUFDLDZCQUE2QixDQUFDLFlBQVksTUFBTSxDQUFDLEVBQUUsQ0FBQztZQUNuTCxPQUFPLEtBQUssQ0FBQTtRQUNoQixDQUFDO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLGNBQWMsQ0FBQyxLQUFLLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxjQUFjLENBQUMsS0FBSyxRQUFRLENBQUMsRUFBRSxDQUFDO1lBQzdGLE9BQU8sS0FBSyxDQUFBO1FBQ2hCLENBQUM7UUFDRCxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsc0JBQXNCLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsc0JBQXNCLENBQUMsS0FBSyxRQUFRLENBQUMsRUFBRSxDQUFDO1lBQzdHLE9BQU8sS0FBSyxDQUFBO1FBQ2hCLENBQUM7UUFDRCxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsYUFBYSxDQUFDLEtBQUssV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLGFBQWEsQ0FBQyxLQUFLLFFBQVEsQ0FBQyxFQUFFLENBQUM7WUFDM0YsT0FBTyxLQUFLLENBQUE7UUFDaEIsQ0FBQztRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxVQUFVLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsVUFBVSxDQUFDLEtBQUssUUFBUSxDQUFDLEVBQUUsQ0FBQztZQUNyRixPQUFPLEtBQUssQ0FBQTtRQUNoQixDQUFDO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLE1BQU0sQ0FBQyxLQUFLLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxxQ0FBcUMsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUN2SCxPQUFPLEtBQUssQ0FBQTtRQUNoQixDQUFDO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLGlCQUFpQixDQUFDLEtBQUssV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLGlCQUFpQixDQUFDLEtBQUssUUFBUSxJQUFJLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxZQUFZLE1BQU0sQ0FBQyxFQUFFLENBQUM7WUFDL0ksT0FBTyxLQUFLLENBQUE7UUFDaEIsQ0FBQztRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxvQkFBb0IsQ0FBQyxLQUFLLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxxQ0FBcUMsQ0FBQywyQkFBMkIsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLG9CQUFvQixDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUM7WUFDakssT0FBTyxLQUFLLENBQUE7UUFDaEIsQ0FBQztRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxZQUFZLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsWUFBWSxDQUFDLEtBQUssUUFBUSxDQUFDLEVBQUUsQ0FBQztZQUN6RixPQUFPLEtBQUssQ0FBQTtRQUNoQixDQUFDO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLGtCQUFrQixDQUFDLEtBQUssV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLHFDQUFxQyxDQUFDLHlCQUF5QixDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUMzSixPQUFPLEtBQUssQ0FBQTtRQUNoQixDQUFDO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLGdCQUFnQixDQUFDLEtBQUssV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLGdCQUFnQixDQUFDLEtBQUssUUFBUSxDQUFDLEVBQUUsQ0FBQztZQUNqRyxPQUFPLEtBQUssQ0FBQTtRQUNoQixDQUFDO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLFlBQVksQ0FBQyxLQUFLLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxZQUFZLENBQUMsS0FBSyxTQUFTLElBQUksR0FBRyxDQUFDLFlBQVksQ0FBQyxZQUFZLE9BQU8sQ0FBQyxFQUFFLENBQUM7WUFDbEksT0FBTyxLQUFLLENBQUE7UUFDaEIsQ0FBQztRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxXQUFXLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMscUNBQXFDLENBQUMsa0JBQWtCLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUN0SSxPQUFPLEtBQUssQ0FBQTtRQUNoQixDQUFDO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLGlCQUFpQixDQUFDLEtBQUssV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLGlCQUFpQixDQUFDLEtBQUssUUFBUSxJQUFJLEdBQUcsQ0FBQyxpQkFBaUIsQ0FBQyxZQUFZLE1BQU0sQ0FBQyxFQUFFLENBQUM7WUFDL0ksT0FBTyxLQUFLLENBQUE7UUFDaEIsQ0FBQztRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxhQUFhLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMscUNBQXFDLENBQUMsb0JBQW9CLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztZQUM1SSxPQUFPLEtBQUssQ0FBQTtRQUNoQixDQUFDO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLFlBQVksQ0FBQyxLQUFLLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxZQUFZLENBQUMsS0FBSyxRQUFRLElBQUksR0FBRyxDQUFDLFlBQVksQ0FBQyxZQUFZLE1BQU0sQ0FBQyxFQUFFLENBQUM7WUFDaEksT0FBTyxLQUFLLENBQUE7UUFDaEIsQ0FBQztRQUNELElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxjQUFjLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxHQUFHLENBQUMsY0FBYyxDQUFDLEtBQUssUUFBUSxJQUFJLEdBQUcsQ0FBQyxjQUFjLENBQUMsWUFBWSxNQUFNLENBQUMsRUFBRSxDQUFDO1lBQ3RJLE9BQU8sS0FBSyxDQUFBO1FBQ2hCLENBQUM7UUFDRCxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsbUJBQW1CLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMscUNBQXFDLENBQUMsMEJBQTBCLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1lBQzlKLE9BQU8sS0FBSyxDQUFBO1FBQ2hCLENBQUM7UUFDRCxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsVUFBVSxDQUFDLEtBQUssV0FBVyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sR0FBRyxDQUFDLFVBQVUsQ0FBQyxLQUFLLFFBQVEsSUFBSSxHQUFHLENBQUMsVUFBVSxDQUFDLFlBQVksTUFBTSxDQUFDLEVBQUUsQ0FBQztZQUMxSCxPQUFPLEtBQUssQ0FBQTtRQUNoQixDQUFDO1FBQ0QsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLE9BQU8sQ0FBQyxLQUFLLFdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxPQUFPLENBQUMsS0FBSyxRQUFRLENBQUMsRUFBRSxDQUFDO1lBQy9FLE9BQU8sS0FBSyxDQUFBO1FBQ2hCLENBQUM7UUFDRCxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsbUJBQW1CLENBQUMsS0FBSyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMscUNBQXFDLENBQUMsMEJBQTBCLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO1lBQzlKLE9BQU8sS0FBSyxDQUFBO1FBQ2hCLENBQUM7UUFDRCxPQUFPLElBQUksQ0FBQTtJQUNmLENBQUM7O0FBeEZMLHNGQXlGQztBQXhGbUIsMERBQW9CLEdBQUcsSUFBSSxrQ0FBb0IsRUFBRSxDQUFBO0FBQ2pELHdEQUFrQixHQUFHLElBQUksOEJBQWtCLEVBQUUsQ0FBQTtBQUM3QywrREFBeUIsR0FBRyxJQUFJLDRDQUF5QixFQUFFLENBQUE7QUFDM0QsaUVBQTJCLEdBQUcsSUFBSSxnREFBMkIsRUFBRSxDQUFBO0FBQy9ELG1EQUFhLEdBQUcsSUFBSSxvQkFBYSxFQUFFLENBQUE7QUFDbkMsZ0VBQTBCLEdBQUcsSUFBSSw4Q0FBMEIsRUFBRSxDQUFBO0FBQzdELGdFQUEwQixHQUFHLElBQUksOENBQTBCLEVBQUUsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAoYykgMjAyMyBBcHBsZSBJbmMuIExpY2Vuc2VkIHVuZGVyIE1JVCBMaWNlbnNlLlxuXG5pbXBvcnQgeyBEZWNvZGVkU2lnbmVkRGF0YSB9IGZyb20gXCIuL0RlY29kZWRTaWduZWREYXRhXCJcbmltcG9ydCB7IEVudmlyb25tZW50LCBFbnZpcm9ubWVudFZhbGlkYXRvciB9IGZyb20gXCIuL0Vudmlyb25tZW50XCJcbmltcG9ydCB7IEluQXBwT3duZXJzaGlwVHlwZSwgSW5BcHBPd25lcnNoaXBUeXBlVmFsaWRhdG9yIH0gZnJvbSBcIi4vSW5BcHBPd25lcnNoaXBUeXBlXCJcbmltcG9ydCB7IE9mZmVyRGlzY291bnRUeXBlLCBPZmZlckRpc2NvdW50VHlwZVZhbGlkYXRvciB9IGZyb20gXCIuL09mZmVyRGlzY291bnRUeXBlXCJcbmltcG9ydCB7IE9mZmVyVHlwZSwgT2ZmZXJUeXBlVmFsaWRhdG9yIH0gZnJvbSBcIi4vT2ZmZXJUeXBlXCJcbmltcG9ydCB7IFJldm9jYXRpb25SZWFzb24sIFJldm9jYXRpb25SZWFzb25WYWxpZGF0b3IgfSBmcm9tIFwiLi9SZXZvY2F0aW9uUmVhc29uXCJcbmltcG9ydCB7IFRyYW5zYWN0aW9uUmVhc29uLCBUcmFuc2FjdGlvblJlYXNvblZhbGlkYXRvciB9IGZyb20gXCIuL1RyYW5zYWN0aW9uUmVhc29uXCJcbmltcG9ydCB7IFR5cGUsIFR5cGVWYWxpZGF0b3IgfSBmcm9tIFwiLi9UeXBlXCJcbmltcG9ydCB7IFZhbGlkYXRvciB9IGZyb20gXCIuL1ZhbGlkYXRvclwiXG5cbi8qKlxuICogQSBkZWNvZGVkIHBheWxvYWQgY29udGFpbmluZyB0cmFuc2FjdGlvbiBpbmZvcm1hdGlvbi5cbiAqXG4gKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvandzdHJhbnNhY3Rpb25kZWNvZGVkcGF5bG9hZCBKV1NUcmFuc2FjdGlvbkRlY29kZWRQYXlsb2FkfVxuICovXG5leHBvcnQgaW50ZXJmYWNlIEpXU1RyYW5zYWN0aW9uRGVjb2RlZFBheWxvYWQgZXh0ZW5kcyBEZWNvZGVkU2lnbmVkRGF0YSB7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3JpZ2luYWwgdHJhbnNhY3Rpb24gaWRlbnRpZmllciBvZiBhIHB1cmNoYXNlLlxuICAgICAqXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL2FwcHN0b3Jlc2VydmVyYXBpL29yaWdpbmFsdHJhbnNhY3Rpb25pZCBvcmlnaW5hbFRyYW5zYWN0aW9uSWR9XG4gICAgICoqL1xuICAgIG9yaWdpbmFsVHJhbnNhY3Rpb25JZD86IHN0cmluZ1xuICAgICAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgdW5pcXVlIGlkZW50aWZpZXIgZm9yIGEgdHJhbnNhY3Rpb24gc3VjaCBhcyBhbiBpbi1hcHAgcHVyY2hhc2UsIHJlc3RvcmVkIGluLWFwcCBwdXJjaGFzZSwgb3Igc3Vic2NyaXB0aW9uIHJlbmV3YWwuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvdHJhbnNhY3Rpb25pZCB0cmFuc2FjdGlvbklkfVxuICAgICAqKi9cbiAgICB0cmFuc2FjdGlvbklkPzogc3RyaW5nXG4gICAgICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSB1bmlxdWUgaWRlbnRpZmllciBvZiBzdWJzY3JpcHRpb24tcHVyY2hhc2UgZXZlbnRzIGFjcm9zcyBkZXZpY2VzLCBpbmNsdWRpbmcgcmVuZXdhbHMuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvd2Vib3JkZXJsaW5laXRlbWlkIHdlYk9yZGVyTGluZUl0ZW1JZH1cbiAgICAgKiovXG4gICAgd2ViT3JkZXJMaW5lSXRlbUlkPzogc3RyaW5nXG4gICAgICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSBidW5kbGUgaWRlbnRpZmllciBvZiBhbiBhcHAuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvYnVuZGxlaWQgYnVuZGxlSWR9XG4gICAgICoqL1xuICAgIGJ1bmRsZUlkPzogc3RyaW5nXG4gICAgICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIHByb2R1Y3QsIHRoYXQgeW91IGNyZWF0ZSBpbiBBcHAgU3RvcmUgQ29ubmVjdC5cbiAgICAgKlxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9hcHBzdG9yZXNlcnZlcmFwaS9wcm9kdWN0aWQgcHJvZHVjdElkfVxuICAgICAqKi9cbiAgICBwcm9kdWN0SWQ/OiBzdHJpbmdcbiAgICAgICAgXG4gICAgLyoqXG4gICAgICogVGhlIGlkZW50aWZpZXIgb2YgdGhlIHN1YnNjcmlwdGlvbiBncm91cCB0aGF0IHRoZSBzdWJzY3JpcHRpb24gYmVsb25ncyB0by5cbiAgICAgKlxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9hcHBzdG9yZXNlcnZlcmFwaS9zdWJzY3JpcHRpb25ncm91cGlkZW50aWZpZXIgc3Vic2NyaXB0aW9uR3JvdXBJZGVudGlmaWVyfVxuICAgICAqKi9cbiAgICBzdWJzY3JpcHRpb25Hcm91cElkZW50aWZpZXI/OiBzdHJpbmdcblxuICAgIC8qKlxuICAgICAqIFRoZSB0aW1lIHRoYXQgdGhlIEFwcCBTdG9yZSBjaGFyZ2VkIHRoZSB1c2Vy4oCZcyBhY2NvdW50IGZvciBhbiBpbi1hcHAgcHVyY2hhc2UsIGEgcmVzdG9yZWQgaW4tYXBwIHB1cmNoYXNlLCBhIHN1YnNjcmlwdGlvbiwgb3IgYSBzdWJzY3JpcHRpb24gcmVuZXdhbCBhZnRlciBhIGxhcHNlLlxuICAgICAqXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL2FwcHN0b3Jlc2VydmVyYXBpL3B1cmNoYXNlZGF0ZSBwdXJjaGFzZURhdGV9XG4gICAgICoqL1xuICAgIHB1cmNoYXNlRGF0ZT86IG51bWJlclxuXG4gICAgLyoqXG4gICAgICogVGhlIHB1cmNoYXNlIGRhdGUgb2YgdGhlIHRyYW5zYWN0aW9uIGFzc29jaWF0ZWQgd2l0aCB0aGUgb3JpZ2luYWwgdHJhbnNhY3Rpb24gaWRlbnRpZmllci5cbiAgICAgKlxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9hcHBzdG9yZXNlcnZlcmFwaS9vcmlnaW5hbHB1cmNoYXNlZGF0ZSBvcmlnaW5hbFB1cmNoYXNlRGF0ZX1cbiAgICAgKiovXG4gICAgb3JpZ2luYWxQdXJjaGFzZURhdGU/OiBudW1iZXJcbiAgICAgICAgXG4gICAgLyoqXG4gICAgICogVGhlIFVOSVggdGltZSwgaW4gbWlsbGlzZWNvbmRzLCBhbiBhdXRvLXJlbmV3YWJsZSBzdWJzY3JpcHRpb24gZXhwaXJlcyBvciByZW5ld3MuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvZXhwaXJlc2RhdGUgZXhwaXJlc0RhdGV9XG4gICAgICoqL1xuICAgIGV4cGlyZXNEYXRlPzogbnVtYmVyXG4gICAgICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgY29uc3VtYWJsZSBwcm9kdWN0cyBwdXJjaGFzZWQuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvcXVhbnRpdHkgcXVhbnRpdHl9XG4gICAgICoqL1xuICAgIHF1YW50aXR5PzogbnVtYmVyXG4gICAgICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSB0eXBlIG9mIHRoZSBpbi1hcHAgcHVyY2hhc2UuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvdHlwZSB0eXBlfVxuICAgICAqKi9cbiAgICB0eXBlPzogVHlwZSB8IHN0cmluZ1xuICAgICAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgVVVJRCB0aGF0IGFuIGFwcCBvcHRpb25hbGx5IGdlbmVyYXRlcyB0byBtYXAgYSBjdXN0b21lcuKAmXMgaW4tYXBwIHB1cmNoYXNlIHdpdGggaXRzIHJlc3VsdGluZyBBcHAgU3RvcmUgdHJhbnNhY3Rpb24uXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvYXBwYWNjb3VudHRva2VuIGFwcEFjY291bnRUb2tlbn1cbiAgICAgKiovXG4gICAgYXBwQWNjb3VudFRva2VuPzogc3RyaW5nXG4gICAgICAgIFxuICAgIC8qKlxuICAgICAqIEEgc3RyaW5nIHRoYXQgZGVzY3JpYmVzIHdoZXRoZXIgdGhlIHRyYW5zYWN0aW9uIHdhcyBwdXJjaGFzZWQgYnkgdGhlIHVzZXIsIG9yIGlzIGF2YWlsYWJsZSB0byB0aGVtIHRocm91Z2ggRmFtaWx5IFNoYXJpbmcuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvaW5hcHBvd25lcnNoaXB0eXBlIGluQXBwT3duZXJzaGlwVHlwZX1cbiAgICAgKiovXG4gICAgaW5BcHBPd25lcnNoaXBUeXBlPzogSW5BcHBPd25lcnNoaXBUeXBlIHwgc3RyaW5nXG4gICAgICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSBVTklYIHRpbWUsIGluIG1pbGxpc2Vjb25kcywgdGhhdCB0aGUgQXBwIFN0b3JlIHNpZ25lZCB0aGUgSlNPTiBXZWIgU2lnbmF0dXJlIGRhdGEuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvc2lnbmVkZGF0ZSBzaWduZWREYXRlfVxuICAgICAqKi9cbiAgICBzaWduZWREYXRlPzogbnVtYmVyXG4gICAgICAgIFxuICAgIC8qKlxuICAgICAqIFRoZSByZWFzb24gdGhhdCB0aGUgQXBwIFN0b3JlIHJlZnVuZGVkIHRoZSB0cmFuc2FjdGlvbiBvciByZXZva2VkIGl0IGZyb20gZmFtaWx5IHNoYXJpbmcuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvcmV2b2NhdGlvbnJlYXNvbiByZXZvY2F0aW9uUmVhc29ufVxuICAgICAqKi9cbiAgICByZXZvY2F0aW9uUmVhc29uPzogUmV2b2NhdGlvblJlYXNvbiB8IG51bWJlclxuICAgICAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgVU5JWCB0aW1lLCBpbiBtaWxsaXNlY29uZHMsIHRoYXQgQXBwbGUgU3VwcG9ydCByZWZ1bmRlZCBhIHRyYW5zYWN0aW9uLlxuICAgICAqXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL2FwcHN0b3Jlc2VydmVyYXBpL3Jldm9jYXRpb25kYXRlIHJldm9jYXRpb25EYXRlfVxuICAgICAqKi9cbiAgICByZXZvY2F0aW9uRGF0ZT86IG51bWJlclxuICAgICAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgQm9vbGVhbiB2YWx1ZSB0aGF0IGluZGljYXRlcyB3aGV0aGVyIHRoZSB1c2VyIHVwZ3JhZGVkIHRvIGFub3RoZXIgc3Vic2NyaXB0aW9uLlxuICAgICAqXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL2FwcHN0b3Jlc2VydmVyYXBpL2lzdXBncmFkZWQgaXNVcGdyYWRlZH1cbiAgICAgKiovXG4gICAgaXNVcGdyYWRlZD86IGJvb2xlYW5cblxuICAgIC8qKlxuICAgICAqIEEgdmFsdWUgdGhhdCByZXByZXNlbnRzIHRoZSBwcm9tb3Rpb25hbCBvZmZlciB0eXBlLlxuICAgICAqXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL2FwcHN0b3Jlc2VydmVyYXBpL29mZmVydHlwZSBvZmZlclR5cGV9XG4gICAgICoqL1xuICAgIG9mZmVyVHlwZT86IE9mZmVyVHlwZSB8IG51bWJlclxuICAgICAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgaWRlbnRpZmllciB0aGF0IGNvbnRhaW5zIHRoZSBwcm9tbyBjb2RlIG9yIHRoZSBwcm9tb3Rpb25hbCBvZmZlciBpZGVudGlmaWVyLlxuICAgICAqXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL2FwcHN0b3Jlc2VydmVyYXBpL29mZmVyaWRlbnRpZmllciBvZmZlcklkZW50aWZpZXJ9XG4gICAgICoqL1xuICAgIG9mZmVySWRlbnRpZmllcj86IHN0cmluZ1xuICAgICAgICBcbiAgICAvKipcbiAgICAgKiBUaGUgc2VydmVyIGVudmlyb25tZW50LCBlaXRoZXIgc2FuZGJveCBvciBwcm9kdWN0aW9uLlxuICAgICAqXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL2FwcHN0b3Jlc2VydmVyYXBpL2Vudmlyb25tZW50IGVudmlyb25tZW50fVxuICAgICAqKi9cbiAgICBlbnZpcm9ubWVudD86IEVudmlyb25tZW50IHwgc3RyaW5nXG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGhyZWUtbGV0dGVyIGNvZGUgdGhhdCByZXByZXNlbnRzIHRoZSBjb3VudHJ5IG9yIHJlZ2lvbiBhc3NvY2lhdGVkIHdpdGggdGhlIEFwcCBTdG9yZSBzdG9yZWZyb250IGZvciB0aGUgcHVyY2hhc2UuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvc3RvcmVmcm9udCBzdG9yZWZyb250fVxuICAgICAqKi9cbiAgICBzdG9yZWZyb250Pzogc3RyaW5nXG5cbiAgICAvKipcbiAgICAgKiBBbiBBcHBsZS1kZWZpbmVkIHZhbHVlIHRoYXQgdW5pcXVlbHkgaWRlbnRpZmllcyB0aGUgQXBwIFN0b3JlIHN0b3JlZnJvbnQgYXNzb2NpYXRlZCB3aXRoIHRoZSBwdXJjaGFzZS5cbiAgICAgKlxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9hcHBzdG9yZXNlcnZlcmFwaS9zdG9yZWZyb250aWQgc3RvcmVmcm9udElkfVxuICAgICAqKi9cbiAgICBzdG9yZWZyb250SWQ/OiBzdHJpbmdcblxuICAgIC8qKlxuICAgICAqIFRoZSByZWFzb24gZm9yIHRoZSBwdXJjaGFzZSB0cmFuc2FjdGlvbiwgd2hpY2ggaW5kaWNhdGVzIHdoZXRoZXIgaXTigJlzIGEgY3VzdG9tZXLigJlzIHB1cmNoYXNlIG9yIGEgcmVuZXdhbCBmb3IgYW4gYXV0by1yZW5ld2FibGUgc3Vic2NyaXB0aW9uIHRoYXQgdGhlIHN5c3RlbSBpbml0YXRlcy5cbiAgICAgKlxuICAgICAqIHtAbGluayBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi9hcHBzdG9yZXNlcnZlcmFwaS90cmFuc2FjdGlvbnJlYXNvbiB0cmFuc2FjdGlvblJlYXNvbn1cbiAgICAgKiovXG4gICAgdHJhbnNhY3Rpb25SZWFzb24/OiBUcmFuc2FjdGlvblJlYXNvbiB8IHN0cmluZ1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRocmVlLWxldHRlciBJU08gNDIxNyBjdXJyZW5jeSBjb2RlIGZvciB0aGUgcHJpY2Ugb2YgdGhlIHByb2R1Y3QuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvY3VycmVuY3kgY3VycmVuY3l9XG4gICAgICoqL1xuICAgIGN1cnJlbmN5Pzogc3RyaW5nXG5cbiAgICAvKipcbiAgICAgKiBUaGUgcHJpY2UsIGluIG1pbGxpdW5pdHMsIG9mIHRoZSBpbi1hcHAgcHVyY2hhc2Ugb3Igc3Vic2NyaXB0aW9uIG9mZmVyIHRoYXQgeW91IGNvbmZpZ3VyZWQgaW4gQXBwIFN0b3JlIENvbm5lY3QuXG4gICAgICpcbiAgICAgKiB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXIuYXBwbGUuY29tL2RvY3VtZW50YXRpb24vYXBwc3RvcmVzZXJ2ZXJhcGkvcHJpY2UgcHJpY2V9XG4gICAgICoqL1xuICAgIHByaWNlPzogbnVtYmVyXG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGF5bWVudCBtb2RlIHlvdSBjb25maWd1cmUgZm9yIGFuIGludHJvZHVjdG9yeSBvZmZlciwgcHJvbW90aW9uYWwgb2ZmZXIsIG9yIG9mZmVyIGNvZGUgb24gYW4gYXV0by1yZW5ld2FibGUgc3Vic2NyaXB0aW9uLlxuICAgICAqXG4gICAgICoge0BsaW5rIGh0dHBzOi8vZGV2ZWxvcGVyLmFwcGxlLmNvbS9kb2N1bWVudGF0aW9uL2FwcHN0b3Jlc2VydmVyYXBpL29mZmVyZGlzY291bnR0eXBlIG9mZmVyRGlzY291bnRUeXBlfVxuICAgICAqKi9cbiAgICBvZmZlckRpc2NvdW50VHlwZT86IE9mZmVyRGlzY291bnRUeXBlIHwgc3RyaW5nXG59XG5cblxuZXhwb3J0IGNsYXNzIEpXU1RyYW5zYWN0aW9uRGVjb2RlZFBheWxvYWRWYWxpZGF0b3IgaW1wbGVtZW50cyBWYWxpZGF0b3I8SldTVHJhbnNhY3Rpb25EZWNvZGVkUGF5bG9hZD4ge1xuICAgIHN0YXRpYyByZWFkb25seSBlbnZpcm9ubWVudFZhbGlkYXRvciA9IG5ldyBFbnZpcm9ubWVudFZhbGlkYXRvcigpXG4gICAgc3RhdGljIHJlYWRvbmx5IG9mZmVyVHlwZVZhbGlkYXRvciA9IG5ldyBPZmZlclR5cGVWYWxpZGF0b3IoKVxuICAgIHN0YXRpYyByZWFkb25seSByZXZvY2F0aW9uUmVhc29uVmFsaWRhdG9yID0gbmV3IFJldm9jYXRpb25SZWFzb25WYWxpZGF0b3IoKVxuICAgIHN0YXRpYyByZWFkb25seSBpbkFwcE93bmVyc2hpcFR5cGVWYWxpZGF0b3IgPSBuZXcgSW5BcHBPd25lcnNoaXBUeXBlVmFsaWRhdG9yKClcbiAgICBzdGF0aWMgcmVhZG9ubHkgdHlwZVZhbGlkYXRvciA9IG5ldyBUeXBlVmFsaWRhdG9yKClcbiAgICBzdGF0aWMgcmVhZG9ubHkgdHJhbnNhY3Rpb25SZWFzb25WYWxpZGF0b3IgPSBuZXcgVHJhbnNhY3Rpb25SZWFzb25WYWxpZGF0b3IoKVxuICAgIHN0YXRpYyByZWFkb25seSBvZmZlckRpc2NvdW50VHlwZVZhbGlkYXRvciA9IG5ldyBPZmZlckRpc2NvdW50VHlwZVZhbGlkYXRvcigpXG4gICAgdmFsaWRhdGUob2JqOiBhbnkpOiBvYmogaXMgSldTVHJhbnNhY3Rpb25EZWNvZGVkUGF5bG9hZCB7XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsnb3JpZ2luYWxUcmFuc2FjdGlvbklkJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKHR5cGVvZiBvYmpbJ29yaWdpbmFsVHJhbnNhY3Rpb25JZCddID09PSBcInN0cmluZ1wiIHx8IG9ialsnb3JpZ2luYWxUcmFuc2FjdGlvbklkJ10gaW5zdGFuY2VvZiBTdHJpbmcpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ3RyYW5zYWN0aW9uSWQnXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEodHlwZW9mIG9ialsndHJhbnNhY3Rpb25JZCddID09PSBcInN0cmluZ1wiIHx8IG9ialsndHJhbnNhY3Rpb25JZCddIGluc3RhbmNlb2YgU3RyaW5nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWyd3ZWJPcmRlckxpbmVJdGVtSWQnXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEodHlwZW9mIG9ialsnd2ViT3JkZXJMaW5lSXRlbUlkJ10gPT09IFwic3RyaW5nXCIgfHwgb2JqWyd3ZWJPcmRlckxpbmVJdGVtSWQnXSBpbnN0YW5jZW9mIFN0cmluZykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsnYnVuZGxlSWQnXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEodHlwZW9mIG9ialsnYnVuZGxlSWQnXSA9PT0gXCJzdHJpbmdcIiB8fCBvYmpbJ2J1bmRsZUlkJ10gaW5zdGFuY2VvZiBTdHJpbmcpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ3Byb2R1Y3RJZCddICE9PSAndW5kZWZpbmVkJykgJiYgISh0eXBlb2Ygb2JqWydwcm9kdWN0SWQnXSA9PT0gXCJzdHJpbmdcIiB8fCBvYmpbJ3Byb2R1Y3RJZCddIGluc3RhbmNlb2YgU3RyaW5nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydzdWJzY3JpcHRpb25Hcm91cElkZW50aWZpZXInXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEodHlwZW9mIG9ialsnc3Vic2NyaXB0aW9uR3JvdXBJZGVudGlmaWVyJ10gPT09IFwic3RyaW5nXCIgfHwgb2JqWydzdWJzY3JpcHRpb25Hcm91cElkZW50aWZpZXInXSBpbnN0YW5jZW9mIFN0cmluZykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsncHVyY2hhc2VEYXRlJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKHR5cGVvZiBvYmpbJ3B1cmNoYXNlRGF0ZSddID09PSBcIm51bWJlclwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydvcmlnaW5hbFB1cmNoYXNlRGF0ZSddICE9PSAndW5kZWZpbmVkJykgJiYgISh0eXBlb2Ygb2JqWydvcmlnaW5hbFB1cmNoYXNlRGF0ZSddID09PSBcIm51bWJlclwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydleHBpcmVzRGF0ZSddICE9PSAndW5kZWZpbmVkJykgJiYgISh0eXBlb2Ygb2JqWydleHBpcmVzRGF0ZSddID09PSBcIm51bWJlclwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydxdWFudGl0eSddICE9PSAndW5kZWZpbmVkJykgJiYgISh0eXBlb2Ygb2JqWydxdWFudGl0eSddID09PSAnbnVtYmVyJykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsndHlwZSddICE9PSAndW5kZWZpbmVkJykgJiYgIShKV1NUcmFuc2FjdGlvbkRlY29kZWRQYXlsb2FkVmFsaWRhdG9yLnR5cGVWYWxpZGF0b3IudmFsaWRhdGUob2JqWyd0eXBlJ10pKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydhcHBBY2NvdW50VG9rZW4nXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEodHlwZW9mIG9ialsnYXBwQWNjb3VudFRva2VuJ10gPT09IFwic3RyaW5nXCIgfHwgb2JqWydhcHBBY2NvdW50VG9rZW4nXSBpbnN0YW5jZW9mIFN0cmluZykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsnaW5BcHBPd25lcnNoaXBUeXBlJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKEpXU1RyYW5zYWN0aW9uRGVjb2RlZFBheWxvYWRWYWxpZGF0b3IuaW5BcHBPd25lcnNoaXBUeXBlVmFsaWRhdG9yLnZhbGlkYXRlKG9ialsnaW5BcHBPd25lcnNoaXBUeXBlJ10pKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydzaWduZWREYXRlJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKHR5cGVvZiBvYmpbJ3NpZ25lZERhdGUnXSA9PT0gXCJudW1iZXJcIikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsncmV2b2NhdGlvblJlYXNvbiddICE9PSAndW5kZWZpbmVkJykgJiYgIShKV1NUcmFuc2FjdGlvbkRlY29kZWRQYXlsb2FkVmFsaWRhdG9yLnJldm9jYXRpb25SZWFzb25WYWxpZGF0b3IudmFsaWRhdGUob2JqWydyZXZvY2F0aW9uUmVhc29uJ10pKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydyZXZvY2F0aW9uRGF0ZSddICE9PSAndW5kZWZpbmVkJykgJiYgISh0eXBlb2Ygb2JqWydyZXZvY2F0aW9uRGF0ZSddID09PSBcIm51bWJlclwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydpc1VwZ3JhZGVkJ10gIT09ICd1bmRlZmluZWQnKSAmJiAhKHR5cGVvZiBvYmpbJ2lzVXBncmFkZWQnXSA9PT0gXCJib29sZWFuXCIgfHwgb2JqWydpc1VwZ3JhZGVkJ10gaW5zdGFuY2VvZiBCb29sZWFuKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydvZmZlclR5cGUnXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEoSldTVHJhbnNhY3Rpb25EZWNvZGVkUGF5bG9hZFZhbGlkYXRvci5vZmZlclR5cGVWYWxpZGF0b3IudmFsaWRhdGUob2JqWydvZmZlclR5cGUnXSkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ29mZmVySWRlbnRpZmllciddICE9PSAndW5kZWZpbmVkJykgJiYgISh0eXBlb2Ygb2JqWydvZmZlcklkZW50aWZpZXInXSA9PT0gXCJzdHJpbmdcIiB8fCBvYmpbJ29mZmVySWRlbnRpZmllciddIGluc3RhbmNlb2YgU3RyaW5nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydlbnZpcm9ubWVudCddICE9PSAndW5kZWZpbmVkJykgJiYgIShKV1NUcmFuc2FjdGlvbkRlY29kZWRQYXlsb2FkVmFsaWRhdG9yLmVudmlyb25tZW50VmFsaWRhdG9yLnZhbGlkYXRlKG9ialsnZW52aXJvbm1lbnQnXSkpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHR5cGVvZiBvYmpbJ3N0b3JlZnJvbnQnXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEodHlwZW9mIG9ialsnc3RvcmVmcm9udCddID09PSBcInN0cmluZ1wiIHx8IG9ialsnc3RvcmVmcm9udCddIGluc3RhbmNlb2YgU3RyaW5nKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydzdG9yZWZyb250SWQnXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEodHlwZW9mIG9ialsnc3RvcmVmcm9udElkJ10gPT09IFwic3RyaW5nXCIgfHwgb2JqWydzdG9yZWZyb250SWQnXSBpbnN0YW5jZW9mIFN0cmluZykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsndHJhbnNhY3Rpb25SZWFzb24nXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEoSldTVHJhbnNhY3Rpb25EZWNvZGVkUGF5bG9hZFZhbGlkYXRvci50cmFuc2FjdGlvblJlYXNvblZhbGlkYXRvci52YWxpZGF0ZShvYmpbJ3RyYW5zYWN0aW9uUmVhc29uJ10pKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0eXBlb2Ygb2JqWydjdXJyZW5jeSddICE9PSAndW5kZWZpbmVkJykgJiYgISh0eXBlb2Ygb2JqWydjdXJyZW5jeSddID09PSBcInN0cmluZ1wiIHx8IG9ialsnY3VycmVuY3knXSBpbnN0YW5jZW9mIFN0cmluZykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsncHJpY2UnXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEodHlwZW9mIG9ialsncHJpY2UnXSA9PT0gXCJudW1iZXJcIikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgICAgIGlmICgodHlwZW9mIG9ialsnb2ZmZXJEaXNjb3VudFR5cGUnXSAhPT0gJ3VuZGVmaW5lZCcpICYmICEoSldTVHJhbnNhY3Rpb25EZWNvZGVkUGF5bG9hZFZhbGlkYXRvci5vZmZlckRpc2NvdW50VHlwZVZhbGlkYXRvci52YWxpZGF0ZShvYmpbJ29mZmVyRGlzY291bnRUeXBlJ10pKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG59XG4iXX0=