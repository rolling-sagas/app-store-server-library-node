"use strict";
// Copyright (c) 2023 Apple Inc. Licensed under MIT License.
Object.defineProperty(exports, "__esModule", { value: true });
const AutoRenewStatus_1 = require("../../models/AutoRenewStatus");
const Environment_1 = require("../../models/Environment");
const ExpirationIntent_1 = require("../../models/ExpirationIntent");
const NotificationTypeV2_1 = require("../../models/NotificationTypeV2");
const OfferType_1 = require("../../models/OfferType");
const PriceIncreaseStatus_1 = require("../../models/PriceIncreaseStatus");
const Status_1 = require("../../models/Status");
const Subtype_1 = require("../../models/Subtype");
const util_1 = require("../util");
const InAppOwnershipType_1 = require("../../models/InAppOwnershipType");
const RevocationReason_1 = require("../../models/RevocationReason");
const TransactionReason_1 = require("../../models/TransactionReason");
const Type_1 = require("../../models/Type");
const ConsumptionRequestReason_1 = require("../../models/ConsumptionRequestReason");
const OfferDiscountType_1 = require("../../models/OfferDiscountType");
describe('Testing decoding of signed data', () => {
    it('should decode an app transaction', async () => {
        const signedAppTransaction = (0, util_1.createSignedDataFromJson)("tests/resources/models/appTransaction.json");
        const appTransaction = await (0, util_1.getDefaultSignedPayloadVerifier)().verifyAndDecodeAppTransaction(signedAppTransaction);
        expect(Environment_1.Environment.LOCAL_TESTING).toBe(appTransaction.receiptType);
        expect(531412).toBe(appTransaction.appAppleId);
        expect("com.example").toBe(appTransaction.bundleId);
        expect("1.2.3").toBe(appTransaction.applicationVersion);
        expect(512).toBe(appTransaction.versionExternalIdentifier);
        expect(1698148900000).toBe(appTransaction.receiptCreationDate);
        expect(1698148800000).toBe(appTransaction.originalPurchaseDate);
        expect("1.1.2").toBe(appTransaction.originalApplicationVersion);
        expect("device_verification_value").toBe(appTransaction.deviceVerification);
        expect("48ccfa42-7431-4f22-9908-7e88983e105a").toBe(appTransaction.deviceVerificationNonce);
        expect(1698148700000).toBe(appTransaction.preorderDate);
    });
    it('should decode a renewal info', async () => {
        const signedRenewalInfo = (0, util_1.createSignedDataFromJson)("tests/resources/models/signedRenewalInfo.json");
        const renewalInfo = await (0, util_1.getDefaultSignedPayloadVerifier)().verifyAndDecodeRenewalInfo(signedRenewalInfo);
        expect(ExpirationIntent_1.ExpirationIntent.CUSTOMER_CANCELLED).toBe(renewalInfo.expirationIntent);
        expect("12345").toBe(renewalInfo.originalTransactionId);
        expect("com.example.product.2").toBe(renewalInfo.autoRenewProductId);
        expect("com.example.product").toBe(renewalInfo.productId);
        expect(AutoRenewStatus_1.AutoRenewStatus.ON).toBe(renewalInfo.autoRenewStatus);
        expect(renewalInfo.isInBillingRetryPeriod).toBe(true);
        expect(PriceIncreaseStatus_1.PriceIncreaseStatus.CUSTOMER_HAS_NOT_RESPONDED).toBe(renewalInfo.priceIncreaseStatus);
        expect(1698148900000).toBe(renewalInfo.gracePeriodExpiresDate);
        expect(OfferType_1.OfferType.PROMOTIONAL_OFFER).toBe(renewalInfo.offerType);
        expect("abc.123").toBe(renewalInfo.offerIdentifier);
        expect(1698148800000).toBe(renewalInfo.signedDate);
        expect(Environment_1.Environment.LOCAL_TESTING).toBe(renewalInfo.environment);
        expect(1698148800000).toBe(renewalInfo.recentSubscriptionStartDate);
        expect(1698148850000).toBe(renewalInfo.renewalDate);
        expect(9990).toBe(renewalInfo.renewalPrice);
        expect("USD").toBe(renewalInfo.currency);
        expect(OfferDiscountType_1.OfferDiscountType.PAY_AS_YOU_GO).toBe(renewalInfo.offerDiscountType);
        expect(["eligible1", "eligible2"]).toStrictEqual(renewalInfo.eligibleWinBackOfferIds);
    });
    it('should decode a transaction info', async () => {
        const signedTransaction = (0, util_1.createSignedDataFromJson)("tests/resources/models/signedTransaction.json");
        const transaction = await (0, util_1.getDefaultSignedPayloadVerifier)().verifyAndDecodeTransaction(signedTransaction);
        expect("12345").toBe(transaction.originalTransactionId);
        expect("23456").toBe(transaction.transactionId);
        expect("34343").toBe(transaction.webOrderLineItemId);
        expect("com.example").toBe(transaction.bundleId);
        expect("com.example.product").toBe(transaction.productId);
        expect("55555").toBe(transaction.subscriptionGroupIdentifier);
        expect(1698148800000).toBe(transaction.originalPurchaseDate);
        expect(1698148900000).toBe(transaction.purchaseDate);
        expect(1698148950000).toBe(transaction.revocationDate);
        expect(1698149000000).toBe(transaction.expiresDate);
        expect(1).toBe(transaction.quantity);
        expect(Type_1.Type.AUTO_RENEWABLE_SUBSCRIPTION).toBe(transaction.type);
        expect("7e3fb20b-4cdb-47cc-936d-99d65f608138").toBe(transaction.appAccountToken);
        expect(InAppOwnershipType_1.InAppOwnershipType.PURCHASED).toBe(transaction.inAppOwnershipType);
        expect(1698148900000).toBe(transaction.signedDate);
        expect(RevocationReason_1.RevocationReason.REFUNDED_DUE_TO_ISSUE).toBe(transaction.revocationReason);
        expect("abc.123").toBe(transaction.offerIdentifier);
        expect(transaction.isUpgraded).toBe(true);
        expect(OfferType_1.OfferType.INTRODUCTORY_OFFER).toBe(transaction.offerType);
        expect("USA").toBe(transaction.storefront);
        expect("143441").toBe(transaction.storefrontId);
        expect(TransactionReason_1.TransactionReason.PURCHASE).toBe(transaction.transactionReason);
        expect(Environment_1.Environment.LOCAL_TESTING).toBe(transaction.environment);
        expect(10990).toBe(transaction.price);
        expect("USD").toBe(transaction.currency);
        expect(OfferDiscountType_1.OfferDiscountType.PAY_AS_YOU_GO).toBe(transaction.offerDiscountType);
    });
    it('should decode a signed notification', async () => {
        const signedNotification = (0, util_1.createSignedDataFromJson)("tests/resources/models/signedNotification.json");
        const notification = await (0, util_1.getDefaultSignedPayloadVerifier)().verifyAndDecodeNotification(signedNotification);
        expect(NotificationTypeV2_1.NotificationTypeV2.SUBSCRIBED).toBe(notification.notificationType);
        expect(Subtype_1.Subtype.INITIAL_BUY).toBe(notification.subtype);
        expect("002e14d5-51f5-4503-b5a8-c3a1af68eb20").toBe(notification.notificationUUID);
        expect("2.0").toBe(notification.version);
        expect(1698148900000).toBe(notification.signedDate);
        expect(notification.data).toBeTruthy();
        expect(notification.summary).toBeFalsy();
        expect(notification.externalPurchaseToken).toBeFalsy();
        expect(Environment_1.Environment.LOCAL_TESTING).toBe(notification.data.environment);
        expect(41234).toBe(notification.data.appAppleId);
        expect("com.example").toBe(notification.data.bundleId);
        expect("1.2.3").toBe(notification.data.bundleVersion);
        expect("signed_transaction_info_value").toBe(notification.data.signedTransactionInfo);
        expect("signed_renewal_info_value").toBe(notification.data.signedRenewalInfo);
        expect(Status_1.Status.ACTIVE).toBe(notification.data.status);
        expect(notification.data.consumptionRequestReason).toBeFalsy();
    });
    it('should decode a signed CONSUMPTION_REQUEST notification', async () => {
        const signedNotification = (0, util_1.createSignedDataFromJson)("tests/resources/models/signedConsumptionRequestNotification.json");
        const notification = await (0, util_1.getDefaultSignedPayloadVerifier)().verifyAndDecodeNotification(signedNotification);
        expect(NotificationTypeV2_1.NotificationTypeV2.CONSUMPTION_REQUEST).toBe(notification.notificationType);
        expect(notification.subtype).toBeFalsy();
        expect("002e14d5-51f5-4503-b5a8-c3a1af68eb20").toBe(notification.notificationUUID);
        expect("2.0").toBe(notification.version);
        expect(1698148900000).toBe(notification.signedDate);
        expect(notification.data).toBeTruthy();
        expect(notification.summary).toBeFalsy();
        expect(notification.externalPurchaseToken).toBeFalsy();
        expect(Environment_1.Environment.LOCAL_TESTING).toBe(notification.data.environment);
        expect(41234).toBe(notification.data.appAppleId);
        expect("com.example").toBe(notification.data.bundleId);
        expect("1.2.3").toBe(notification.data.bundleVersion);
        expect("signed_transaction_info_value").toBe(notification.data.signedTransactionInfo);
        expect("signed_renewal_info_value").toBe(notification.data.signedRenewalInfo);
        expect(Status_1.Status.ACTIVE).toBe(notification.data.status);
        expect(ConsumptionRequestReason_1.ConsumptionRequestReason.UNINTENDED_PURCHASE).toBe(notification.data.consumptionRequestReason);
    });
    it('should decode a signed summary notification', async () => {
        const signedNotification = (0, util_1.createSignedDataFromJson)("tests/resources/models/signedSummaryNotification.json");
        const notification = await (0, util_1.getDefaultSignedPayloadVerifier)().verifyAndDecodeNotification(signedNotification);
        expect(NotificationTypeV2_1.NotificationTypeV2.RENEWAL_EXTENSION).toBe(notification.notificationType);
        expect(Subtype_1.Subtype.SUMMARY).toBe(notification.subtype);
        expect("002e14d5-51f5-4503-b5a8-c3a1af68eb20").toBe(notification.notificationUUID);
        expect("2.0").toBe(notification.version);
        expect(1698148900000).toBe(notification.signedDate);
        expect(notification.data).toBeFalsy();
        expect(notification.summary).toBeTruthy();
        expect(notification.externalPurchaseToken).toBeFalsy();
        expect(Environment_1.Environment.LOCAL_TESTING).toBe(notification.summary.environment);
        expect(41234).toBe(notification.summary.appAppleId);
        expect("com.example").toBe(notification.summary.bundleId);
        expect("com.example.product").toBe(notification.summary.productId);
        expect("efb27071-45a4-4aca-9854-2a1e9146f265").toBe(notification.summary.requestIdentifier);
        expect(["CAN", "USA", "MEX"]).toStrictEqual(notification.summary.storefrontCountryCodes);
        expect(5).toBe(notification.summary.succeededCount);
        expect(2).toBe(notification.summary.failedCount);
    });
    it('should decode a signed external purchase token notification', async () => {
        const signedNotification = (0, util_1.createSignedDataFromJson)("tests/resources/models/signedExternalPurchaseTokenNotification.json");
        const verifier = await (0, util_1.getDefaultSignedPayloadVerifier)();
        verifier.verifyNotification = function (bundleId, appAppleId, environment) {
            expect(bundleId).toBe("com.example");
            expect(appAppleId).toBe(55555);
            expect(environment).toBe(Environment_1.Environment.PRODUCTION);
        };
        const notification = await verifier.verifyAndDecodeNotification(signedNotification);
        expect(NotificationTypeV2_1.NotificationTypeV2.EXTERNAL_PURCHASE_TOKEN).toBe(notification.notificationType);
        expect(Subtype_1.Subtype.UNREPORTED).toBe(notification.subtype);
        expect("002e14d5-51f5-4503-b5a8-c3a1af68eb20").toBe(notification.notificationUUID);
        expect("2.0").toBe(notification.version);
        expect(1698148900000).toBe(notification.signedDate);
        expect(notification.data).toBeFalsy();
        expect(notification.summary).toBeFalsy();
        expect(notification.externalPurchaseToken).toBeTruthy();
        expect("b2158121-7af9-49d4-9561-1f588205523e").toBe(notification.externalPurchaseToken.externalPurchaseId);
        expect(1698148950000).toBe(notification.externalPurchaseToken.tokenCreationDate);
        expect(55555).toBe(notification.externalPurchaseToken.appAppleId);
        expect("com.example").toBe(notification.externalPurchaseToken.bundleId);
    });
    it('should decode a signed sandbox external purchase token notification', async () => {
        const signedNotification = (0, util_1.createSignedDataFromJson)("tests/resources/models/signedExternalPurchaseTokenSandboxNotification.json");
        const verifier = await (0, util_1.getDefaultSignedPayloadVerifier)();
        verifier.verifyNotification = function (bundleId, appAppleId, environment) {
            expect(bundleId).toBe("com.example");
            expect(appAppleId).toBe(55555);
            expect(environment).toBe(Environment_1.Environment.SANDBOX);
        };
        const notification = await verifier.verifyAndDecodeNotification(signedNotification);
        expect(NotificationTypeV2_1.NotificationTypeV2.EXTERNAL_PURCHASE_TOKEN).toBe(notification.notificationType);
        expect(Subtype_1.Subtype.UNREPORTED).toBe(notification.subtype);
        expect("002e14d5-51f5-4503-b5a8-c3a1af68eb20").toBe(notification.notificationUUID);
        expect("2.0").toBe(notification.version);
        expect(1698148900000).toBe(notification.signedDate);
        expect(notification.data).toBeFalsy();
        expect(notification.summary).toBeFalsy();
        expect(notification.externalPurchaseToken).toBeTruthy();
        expect("SANDBOX_b2158121-7af9-49d4-9561-1f588205523e").toBe(notification.externalPurchaseToken.externalPurchaseId);
        expect(1698148950000).toBe(notification.externalPurchaseToken.tokenCreationDate);
        expect(55555).toBe(notification.externalPurchaseToken.appAppleId);
        expect("com.example").toBe(notification.externalPurchaseToken.bundleId);
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhbnNhY3Rpb25fZGVjb2RpbmcudGVzdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3Rlc3RzL3VuaXQtdGVzdHMvdHJhbnNhY3Rpb25fZGVjb2RpbmcudGVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsNERBQTREOztBQUU1RCxrRUFBK0Q7QUFDL0QsMERBQXVEO0FBQ3ZELG9FQUFpRTtBQUNqRSx3RUFBcUU7QUFDckUsc0RBQW1EO0FBQ25ELDBFQUF1RTtBQUN2RSxnREFBNkM7QUFDN0Msa0RBQStDO0FBQy9DLGtDQUFtRjtBQUNuRix3RUFBcUU7QUFDckUsb0VBQWlFO0FBQ2pFLHNFQUFtRTtBQUNuRSw0Q0FBeUM7QUFDekMsb0ZBQWlGO0FBQ2pGLHNFQUFtRTtBQUduRSxRQUFRLENBQUMsaUNBQWlDLEVBQUUsR0FBRyxFQUFFO0lBQzdDLEVBQUUsQ0FBQyxrQ0FBa0MsRUFBRSxLQUFLLElBQUksRUFBRTtRQUM5QyxNQUFNLG9CQUFvQixHQUFHLElBQUEsK0JBQXdCLEVBQUMsNENBQTRDLENBQUMsQ0FBQTtRQUVuRyxNQUFNLGNBQWMsR0FBRyxNQUFNLElBQUEsc0NBQStCLEdBQUUsQ0FBQyw2QkFBNkIsQ0FBQyxvQkFBb0IsQ0FBQyxDQUFBO1FBRWxILE1BQU0sQ0FBQyx5QkFBVyxDQUFDLGFBQWEsQ0FBQyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsV0FBVyxDQUFDLENBQUE7UUFDbEUsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsVUFBVSxDQUFDLENBQUE7UUFDOUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUE7UUFDbkQsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsa0JBQWtCLENBQUMsQ0FBQTtRQUN2RCxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFD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b3B5cmlnaHQgKGMpIDIwMjMgQXBwbGUgSW5jLiBMaWNlbnNlZCB1bmRlciBNSVQgTGljZW5zZS5cblxuaW1wb3J0IHsgQXV0b1JlbmV3U3RhdHVzIH0gZnJvbSBcIi4uLy4uL21vZGVscy9BdXRvUmVuZXdTdGF0dXNcIjtcbmltcG9ydCB7IEVudmlyb25tZW50IH0gZnJvbSBcIi4uLy4uL21vZGVscy9FbnZpcm9ubWVudFwiO1xuaW1wb3J0IHsgRXhwaXJhdGlvbkludGVudCB9IGZyb20gXCIuLi8uLi9tb2RlbHMvRXhwaXJhdGlvbkludGVudFwiO1xuaW1wb3J0IHsgTm90aWZpY2F0aW9uVHlwZVYyIH0gZnJvbSBcIi4uLy4uL21vZGVscy9Ob3RpZmljYXRpb25UeXBlVjJcIjtcbmltcG9ydCB7IE9mZmVyVHlwZSB9IGZyb20gXCIuLi8uLi9tb2RlbHMvT2ZmZXJUeXBlXCI7XG5pbXBvcnQgeyBQcmljZUluY3JlYXNlU3RhdHVzIH0gZnJvbSBcIi4uLy4uL21vZGVscy9QcmljZUluY3JlYXNlU3RhdHVzXCI7XG5pbXBvcnQgeyBTdGF0dXMgfSBmcm9tIFwiLi4vLi4vbW9kZWxzL1N0YXR1c1wiO1xuaW1wb3J0IHsgU3VidHlwZSB9IGZyb20gXCIuLi8uLi9tb2RlbHMvU3VidHlwZVwiO1xuaW1wb3J0IHsgY3JlYXRlU2lnbmVkRGF0YUZyb21Kc29uLCBnZXREZWZhdWx0U2lnbmVkUGF5bG9hZFZlcmlmaWVyIH0gZnJvbSBcIi4uL3V0aWxcIlxuaW1wb3J0IHsgSW5BcHBPd25lcnNoaXBUeXBlIH0gZnJvbSBcIi4uLy4uL21vZGVscy9JbkFwcE93bmVyc2hpcFR5cGVcIjtcbmltcG9ydCB7IFJldm9jYXRpb25SZWFzb24gfSBmcm9tIFwiLi4vLi4vbW9kZWxzL1Jldm9jYXRpb25SZWFzb25cIjtcbmltcG9ydCB7IFRyYW5zYWN0aW9uUmVhc29uIH0gZnJvbSBcIi4uLy4uL21vZGVscy9UcmFuc2FjdGlvblJlYXNvblwiO1xuaW1wb3J0IHsgVHlwZSB9IGZyb20gXCIuLi8uLi9tb2RlbHMvVHlwZVwiO1xuaW1wb3J0IHsgQ29uc3VtcHRpb25SZXF1ZXN0UmVhc29uIH0gZnJvbSBcIi4uLy4uL21vZGVscy9Db25zdW1wdGlvblJlcXVlc3RSZWFzb25cIjtcbmltcG9ydCB7IE9mZmVyRGlzY291bnRUeXBlIH0gZnJvbSBcIi4uLy4uL21vZGVscy9PZmZlckRpc2NvdW50VHlwZVwiO1xuXG5cbmRlc2NyaWJlKCdUZXN0aW5nIGRlY29kaW5nIG9mIHNpZ25lZCBkYXRhJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZGVjb2RlIGFuIGFwcCB0cmFuc2FjdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3Qgc2lnbmVkQXBwVHJhbnNhY3Rpb24gPSBjcmVhdGVTaWduZWREYXRhRnJvbUpzb24oXCJ0ZXN0cy9yZXNvdXJjZXMvbW9kZWxzL2FwcFRyYW5zYWN0aW9uLmpzb25cIilcblxuICAgICAgICBjb25zdCBhcHBUcmFuc2FjdGlvbiA9IGF3YWl0IGdldERlZmF1bHRTaWduZWRQYXlsb2FkVmVyaWZpZXIoKS52ZXJpZnlBbmREZWNvZGVBcHBUcmFuc2FjdGlvbihzaWduZWRBcHBUcmFuc2FjdGlvbilcblxuICAgICAgICBleHBlY3QoRW52aXJvbm1lbnQuTE9DQUxfVEVTVElORykudG9CZShhcHBUcmFuc2FjdGlvbi5yZWNlaXB0VHlwZSlcbiAgICAgICAgZXhwZWN0KDUzMTQxMikudG9CZShhcHBUcmFuc2FjdGlvbi5hcHBBcHBsZUlkKVxuICAgICAgICBleHBlY3QoXCJjb20uZXhhbXBsZVwiKS50b0JlKGFwcFRyYW5zYWN0aW9uLmJ1bmRsZUlkKVxuICAgICAgICBleHBlY3QoXCIxLjIuM1wiKS50b0JlKGFwcFRyYW5zYWN0aW9uLmFwcGxpY2F0aW9uVmVyc2lvbilcbiAgICAgICAgZXhwZWN0KDUxMikudG9CZShhcHBUcmFuc2FjdGlvbi52ZXJzaW9uRXh0ZXJuYWxJZGVudGlmaWVyKVxuICAgICAgICBleHBlY3QoMTY5ODE0ODkwMDAwMCkudG9CZShhcHBUcmFuc2FjdGlvbi5yZWNlaXB0Q3JlYXRpb25EYXRlKVxuICAgICAgICBleHBlY3QoMTY5ODE0ODgwMDAwMCkudG9CZShhcHBUcmFuc2FjdGlvbi5vcmlnaW5hbFB1cmNoYXNlRGF0ZSlcbiAgICAgICAgZXhwZWN0KFwiMS4xLjJcIikudG9CZShhcHBUcmFuc2FjdGlvbi5vcmlnaW5hbEFwcGxpY2F0aW9uVmVyc2lvbilcbiAgICAgICAgZXhwZWN0KFwiZGV2aWNlX3ZlcmlmaWNhdGlvbl92YWx1ZVwiKS50b0JlKGFwcFRyYW5zYWN0aW9uLmRldmljZVZlcmlmaWNhdGlvbilcbiAgICAgICAgZXhwZWN0KFwiNDhjY2ZhNDItNzQzMS00ZjIyLTk5MDgtN2U4ODk4M2UxMDVhXCIpLnRvQmUoYXBwVHJhbnNhY3Rpb24uZGV2aWNlVmVyaWZpY2F0aW9uTm9uY2UpXG4gICAgICAgIGV4cGVjdCgxNjk4MTQ4NzAwMDAwKS50b0JlKGFwcFRyYW5zYWN0aW9uLnByZW9yZGVyRGF0ZSlcbiAgICB9KVxuICAgIGl0KCdzaG91bGQgZGVjb2RlIGEgcmVuZXdhbCBpbmZvJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBzaWduZWRSZW5ld2FsSW5mbyA9IGNyZWF0ZVNpZ25lZERhdGFGcm9tSnNvbihcInRlc3RzL3Jlc291cmNlcy9tb2RlbHMvc2lnbmVkUmVuZXdhbEluZm8uanNvblwiKVxuXG4gICAgICAgIGNvbnN0IHJlbmV3YWxJbmZvID0gYXdhaXQgZ2V0RGVmYXVsdFNpZ25lZFBheWxvYWRWZXJpZmllcigpLnZlcmlmeUFuZERlY29kZVJlbmV3YWxJbmZvKHNpZ25lZFJlbmV3YWxJbmZvKVxuXG4gICAgICAgIGV4cGVjdChFeHBpcmF0aW9uSW50ZW50LkNVU1RPTUVSX0NBTkNFTExFRCkudG9CZShyZW5ld2FsSW5mby5leHBpcmF0aW9uSW50ZW50KVxuICAgICAgICBleHBlY3QoXCIxMjM0NVwiKS50b0JlKHJlbmV3YWxJbmZvLm9yaWdpbmFsVHJhbnNhY3Rpb25JZClcbiAgICAgICAgZXhwZWN0KFwiY29tLmV4YW1wbGUucHJvZHVjdC4yXCIpLnRvQmUocmVuZXdhbEluZm8uYXV0b1JlbmV3UHJvZHVjdElkKVxuICAgICAgICBleHBlY3QoXCJjb20uZXhhbXBsZS5wcm9kdWN0XCIpLnRvQmUocmVuZXdhbEluZm8ucHJvZHVjdElkKVxuICAgICAgICBleHBlY3QoQXV0b1JlbmV3U3RhdHVzLk9OKS50b0JlKHJlbmV3YWxJbmZvLmF1dG9SZW5ld1N0YXR1cylcbiAgICAgICAgZXhwZWN0KHJlbmV3YWxJbmZvLmlzSW5CaWxsaW5nUmV0cnlQZXJpb2QpLnRvQmUodHJ1ZSlcbiAgICAgICAgZXhwZWN0KFByaWNlSW5jcmVhc2VTdGF0dXMuQ1VTVE9NRVJfSEFTX05PVF9SRVNQT05ERUQpLnRvQmUocmVuZXdhbEluZm8ucHJpY2VJbmNyZWFzZVN0YXR1cylcbiAgICAgICAgZXhwZWN0KDE2OTgxNDg5MDAwMDApLnRvQmUocmVuZXdhbEluZm8uZ3JhY2VQZXJpb2RFeHBpcmVzRGF0ZSlcbiAgICAgICAgZXhwZWN0KE9mZmVyVHlwZS5QUk9NT1RJT05BTF9PRkZFUikudG9CZShyZW5ld2FsSW5mby5vZmZlclR5cGUpXG4gICAgICAgIGV4cGVjdChcImFiYy4xMjNcIikudG9CZShyZW5ld2FsSW5mby5vZmZlcklkZW50aWZpZXIpXG4gICAgICAgIGV4cGVjdCgxNjk4MTQ4ODAwMDAwKS50b0JlKHJlbmV3YWxJbmZvLnNpZ25lZERhdGUpXG4gICAgICAgIGV4cGVjdChFbnZpcm9ubWVudC5MT0NBTF9URVNUSU5HKS50b0JlKHJlbmV3YWxJbmZvLmVudmlyb25tZW50KVxuICAgICAgICBleHBlY3QoMTY5ODE0ODgwMDAwMCkudG9CZShyZW5ld2FsSW5mby5yZWNlbnRTdWJzY3JpcHRpb25TdGFydERhdGUpXG4gICAgICAgIGV4cGVjdCgxNjk4MTQ4ODUwMDAwKS50b0JlKHJlbmV3YWxJbmZvLnJlbmV3YWxEYXRlKVxuICAgICAgICBleHBlY3QoOTk5MCkudG9CZShyZW5ld2FsSW5mby5yZW5ld2FsUHJpY2UpXG4gICAgICAgIGV4cGVjdChcIlVTRFwiKS50b0JlKHJlbmV3YWxJbmZvLmN1cnJlbmN5KVxuICAgICAgICBleHBlY3QoT2ZmZXJEaXNjb3VudFR5cGUuUEFZX0FTX1lPVV9HTykudG9CZShyZW5ld2FsSW5mby5vZmZlckRpc2NvdW50VHlwZSlcbiAgICAgICAgZXhwZWN0KFtcImVsaWdpYmxlMVwiLCBcImVsaWdpYmxlMlwiXSkudG9TdHJpY3RFcXVhbChyZW5ld2FsSW5mby5lbGlnaWJsZVdpbkJhY2tPZmZlcklkcylcbiAgICB9KVxuICAgIGl0KCdzaG91bGQgZGVjb2RlIGEgdHJhbnNhY3Rpb24gaW5mbycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3Qgc2lnbmVkVHJhbnNhY3Rpb24gPSBjcmVhdGVTaWduZWREYXRhRnJvbUpzb24oXCJ0ZXN0cy9yZXNvdXJjZXMvbW9kZWxzL3NpZ25lZFRyYW5zYWN0aW9uLmpzb25cIilcblxuICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IGF3YWl0IGdldERlZmF1bHRTaWduZWRQYXlsb2FkVmVyaWZpZXIoKS52ZXJpZnlBbmREZWNvZGVUcmFuc2FjdGlvbihzaWduZWRUcmFuc2FjdGlvbilcblxuICAgICAgICBleHBlY3QoXCIxMjM0NVwiKS50b0JlKHRyYW5zYWN0aW9uLm9yaWdpbmFsVHJhbnNhY3Rpb25JZClcbiAgICAgICAgZXhwZWN0KFwiMjM0NTZcIikudG9CZSh0cmFuc2FjdGlvbi50cmFuc2FjdGlvbklkKVxuICAgICAgICBleHBlY3QoXCIzNDM0M1wiKS50b0JlKHRyYW5zYWN0aW9uLndlYk9yZGVyTGluZUl0ZW1JZClcbiAgICAgICAgZXhwZWN0KFwiY29tLmV4YW1wbGVcIikudG9CZSh0cmFuc2FjdGlvbi5idW5kbGVJZClcbiAgICAgICAgZXhwZWN0KFwiY29tLmV4YW1wbGUucHJvZHVjdFwiKS50b0JlKHRyYW5zYWN0aW9uLnByb2R1Y3RJZClcbiAgICAgICAgZXhwZWN0KFwiNTU1NTVcIikudG9CZSh0cmFuc2FjdGlvbi5zdWJzY3JpcHRpb25Hcm91cElkZW50aWZpZXIpXG4gICAgICAgIGV4cGVjdCgxNjk4MTQ4ODAwMDAwKS50b0JlKHRyYW5zYWN0aW9uLm9yaWdpbmFsUHVyY2hhc2VEYXRlKVxuICAgICAgICBleHBlY3QoMTY5ODE0ODkwMDAwMCkudG9CZSh0cmFuc2FjdGlvbi5wdXJjaGFzZURhdGUpXG4gICAgICAgIGV4cGVjdCgxNjk4MTQ4OTUwMDAwKS50b0JlKHRyYW5zYWN0aW9uLnJldm9jYXRpb25EYXRlKVxuICAgICAgICBleHBlY3QoMTY5ODE0OTAwMDAwMCkudG9CZSh0cmFuc2FjdGlvbi5leHBpcmVzRGF0ZSlcbiAgICAgICAgZXhwZWN0KDEpLnRvQmUodHJhbnNhY3Rpb24ucXVhbnRpdHkpXG4gICAgICAgIGV4cGVjdChUeXBlLkFVVE9fUkVORVdBQkxFX1NVQlNDUklQVElPTikudG9CZSh0cmFuc2FjdGlvbi50eXBlKVxuICAgICAgICBleHBlY3QoXCI3ZTNmYjIwYi00Y2RiLTQ3Y2MtOTM2ZC05OWQ2NWY2MDgxMzhcIikudG9CZSh0cmFuc2FjdGlvbi5hcHBBY2NvdW50VG9rZW4pXG4gICAgICAgIGV4cGVjdChJbkFwcE93bmVyc2hpcFR5cGUuUFVSQ0hBU0VEKS50b0JlKHRyYW5zYWN0aW9uLmluQXBwT3duZXJzaGlwVHlwZSlcbiAgICAgICAgZXhwZWN0KDE2OTgxNDg5MDAwMDApLnRvQmUodHJhbnNhY3Rpb24uc2lnbmVkRGF0ZSlcbiAgICAgICAgZXhwZWN0KFJldm9jYXRpb25SZWFzb24uUkVGVU5ERURfRFVFX1RPX0lTU1VFKS50b0JlKHRyYW5zYWN0aW9uLnJldm9jYXRpb25SZWFzb24pXG4gICAgICAgIGV4cGVjdChcImFiYy4xMjNcIikudG9CZSh0cmFuc2FjdGlvbi5vZmZlcklkZW50aWZpZXIpXG4gICAgICAgIGV4cGVjdCh0cmFuc2FjdGlvbi5pc1VwZ3JhZGVkKS50b0JlKHRydWUpXG4gICAgICAgIGV4cGVjdChPZmZlclR5cGUuSU5UUk9EVUNUT1JZX09GRkVSKS50b0JlKHRyYW5zYWN0aW9uLm9mZmVyVHlwZSlcbiAgICAgICAgZXhwZWN0KFwiVVNBXCIpLnRvQmUodHJhbnNhY3Rpb24uc3RvcmVmcm9udClcbiAgICAgICAgZXhwZWN0KFwiMTQzNDQxXCIpLnRvQmUodHJhbnNhY3Rpb24uc3RvcmVmcm9udElkKVxuICAgICAgICBleHBlY3QoVHJhbnNhY3Rpb25SZWFzb24uUFVSQ0hBU0UpLnRvQmUodHJhbnNhY3Rpb24udHJhbnNhY3Rpb25SZWFzb24pXG4gICAgICAgIGV4cGVjdChFbnZpcm9ubWVudC5MT0NBTF9URVNUSU5HKS50b0JlKHRyYW5zYWN0aW9uLmVudmlyb25tZW50KVxuICAgICAgICBleHBlY3QoMTA5OTApLnRvQmUodHJhbnNhY3Rpb24ucHJpY2UpXG4gICAgICAgIGV4cGVjdChcIlVTRFwiKS50b0JlKHRyYW5zYWN0aW9uLmN1cnJlbmN5KVxuICAgICAgICBleHBlY3QoT2ZmZXJEaXNjb3VudFR5cGUuUEFZX0FTX1lPVV9HTykudG9CZSh0cmFuc2FjdGlvbi5vZmZlckRpc2NvdW50VHlwZSlcbiAgICB9KVxuICAgIGl0KCdzaG91bGQgZGVjb2RlIGEgc2lnbmVkIG5vdGlmaWNhdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3Qgc2lnbmVkTm90aWZpY2F0aW9uID0gY3JlYXRlU2lnbmVkRGF0YUZyb21Kc29uKFwidGVzdHMvcmVzb3VyY2VzL21vZGVscy9zaWduZWROb3RpZmljYXRpb24uanNvblwiKVxuXG4gICAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IGF3YWl0IGdldERlZmF1bHRTaWduZWRQYXlsb2FkVmVyaWZpZXIoKS52ZXJpZnlBbmREZWNvZGVOb3RpZmljYXRpb24oc2lnbmVkTm90aWZpY2F0aW9uKVxuXG4gICAgICAgIGV4cGVjdChOb3RpZmljYXRpb25UeXBlVjIuU1VCU0NSSUJFRCkudG9CZShub3RpZmljYXRpb24ubm90aWZpY2F0aW9uVHlwZSlcbiAgICAgICAgZXhwZWN0KFN1YnR5cGUuSU5JVElBTF9CVVkpLnRvQmUobm90aWZpY2F0aW9uLnN1YnR5cGUpXG4gICAgICAgIGV4cGVjdChcIjAwMmUxNGQ1LTUxZjUtNDUwMy1iNWE4LWMzYTFhZjY4ZWIyMFwiKS50b0JlKG5vdGlmaWNhdGlvbi5ub3RpZmljYXRpb25VVUlEKVxuICAgICAgICBleHBlY3QoXCIyLjBcIikudG9CZShub3RpZmljYXRpb24udmVyc2lvbilcbiAgICAgICAgZXhwZWN0KDE2OTgxNDg5MDAwMDApLnRvQmUobm90aWZpY2F0aW9uLnNpZ25lZERhdGUpXG4gICAgICAgIGV4cGVjdChub3RpZmljYXRpb24uZGF0YSkudG9CZVRydXRoeSgpXG4gICAgICAgIGV4cGVjdChub3RpZmljYXRpb24uc3VtbWFyeSkudG9CZUZhbHN5KClcbiAgICAgICAgZXhwZWN0KG5vdGlmaWNhdGlvbi5leHRlcm5hbFB1cmNoYXNlVG9rZW4pLnRvQmVGYWxzeSgpXG4gICAgICAgIGV4cGVjdChFbnZpcm9ubWVudC5MT0NBTF9URVNUSU5HKS50b0JlKG5vdGlmaWNhdGlvbi5kYXRhIS5lbnZpcm9ubWVudClcbiAgICAgICAgZXhwZWN0KDQxMjM0KS50b0JlKG5vdGlmaWNhdGlvbi5kYXRhIS5hcHBBcHBsZUlkKVxuICAgICAgICBleHBlY3QoXCJjb20uZXhhbXBsZVwiKS50b0JlKG5vdGlmaWNhdGlvbi5kYXRhIS5idW5kbGVJZClcbiAgICAgICAgZXhwZWN0KFwiMS4yLjNcIikudG9CZShub3RpZmljYXRpb24uZGF0YSEuYnVuZGxlVmVyc2lvbilcbiAgICAgICAgZXhwZWN0KFwic2lnbmVkX3RyYW5zYWN0aW9uX2luZm9fdmFsdWVcIikudG9CZShub3RpZmljYXRpb24uZGF0YSEuc2lnbmVkVHJhbnNhY3Rpb25JbmZvKVxuICAgICAgICBleHBlY3QoXCJzaWduZWRfcmVuZXdhbF9pbmZvX3ZhbHVlXCIpLnRvQmUobm90aWZpY2F0aW9uLmRhdGEhLnNpZ25lZFJlbmV3YWxJbmZvKVxuICAgICAgICBleHBlY3QoU3RhdHVzLkFDVElWRSkudG9CZShub3RpZmljYXRpb24uZGF0YSEuc3RhdHVzKVxuICAgICAgICBleHBlY3Qobm90aWZpY2F0aW9uLmRhdGEhLmNvbnN1bXB0aW9uUmVxdWVzdFJlYXNvbikudG9CZUZhbHN5KClcbiAgICB9KVxuICAgIGl0KCdzaG91bGQgZGVjb2RlIGEgc2lnbmVkIENPTlNVTVBUSU9OX1JFUVVFU1Qgbm90aWZpY2F0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBzaWduZWROb3RpZmljYXRpb24gPSBjcmVhdGVTaWduZWREYXRhRnJvbUpzb24oXCJ0ZXN0cy9yZXNvdXJjZXMvbW9kZWxzL3NpZ25lZENvbnN1bXB0aW9uUmVxdWVzdE5vdGlmaWNhdGlvbi5qc29uXCIpXG5cbiAgICAgICAgY29uc3Qgbm90aWZpY2F0aW9uID0gYXdhaXQgZ2V0RGVmYXVsdFNpZ25lZFBheWxvYWRWZXJpZmllcigpLnZlcmlmeUFuZERlY29kZU5vdGlmaWNhdGlvbihzaWduZWROb3RpZmljYXRpb24pXG5cbiAgICAgICAgZXhwZWN0KE5vdGlmaWNhdGlvblR5cGVWMi5DT05TVU1QVElPTl9SRVFVRVNUKS50b0JlKG5vdGlmaWNhdGlvbi5ub3RpZmljYXRpb25UeXBlKVxuICAgICAgICBleHBlY3Qobm90aWZpY2F0aW9uLnN1YnR5cGUpLnRvQmVGYWxzeSgpXG4gICAgICAgIGV4cGVjdChcIjAwMmUxNGQ1LTUxZjUtNDUwMy1iNWE4LWMzYTFhZjY4ZWIyMFwiKS50b0JlKG5vdGlmaWNhdGlvbi5ub3RpZmljYXRpb25VVUlEKVxuICAgICAgICBleHBlY3QoXCIyLjBcIikudG9CZShub3RpZmljYXRpb24udmVyc2lvbilcbiAgICAgICAgZXhwZWN0KDE2OTgxNDg5MDAwMDApLnRvQmUobm90aWZpY2F0aW9uLnNpZ25lZERhdGUpXG4gICAgICAgIGV4cGVjdChub3RpZmljYXRpb24uZGF0YSkudG9CZVRydXRoeSgpXG4gICAgICAgIGV4cGVjdChub3RpZmljYXRpb24uc3VtbWFyeSkudG9CZUZhbHN5KClcbiAgICAgICAgZXhwZWN0KG5vdGlmaWNhdGlvbi5leHRlcm5hbFB1cmNoYXNlVG9rZW4pLnRvQmVGYWxzeSgpXG4gICAgICAgIGV4cGVjdChFbnZpcm9ubWVudC5MT0NBTF9URVNUSU5HKS50b0JlKG5vdGlmaWNhdGlvbi5kYXRhIS5lbnZpcm9ubWVudClcbiAgICAgICAgZXhwZWN0KDQxMjM0KS50b0JlKG5vdGlmaWNhdGlvbi5kYXRhIS5hcHBBcHBsZUlkKVxuICAgICAgICBleHBlY3QoXCJjb20uZXhhbXBsZVwiKS50b0JlKG5vdGlmaWNhdGlvbi5kYXRhIS5idW5kbGVJZClcbiAgICAgICAgZXhwZWN0KFwiMS4yLjNcIikudG9CZShub3RpZmljYXRpb24uZGF0YSEuYnVuZGxlVmVyc2lvbilcbiAgICAgICAgZXhwZWN0KFwic2lnbmVkX3RyYW5zYWN0aW9uX2luZm9fdmFsdWVcIikudG9CZShub3RpZmljYXRpb24uZGF0YSEuc2lnbmVkVHJhbnNhY3Rpb25JbmZvKVxuICAgICAgICBleHBlY3QoXCJzaWduZWRfcmVuZXdhbF9pbmZvX3ZhbHVlXCIpLnRvQmUobm90aWZpY2F0aW9uLmRhdGEhLnNpZ25lZFJlbmV3YWxJbmZvKVxuICAgICAgICBleHBlY3QoU3RhdHVzLkFDVElWRSkudG9CZShub3RpZmljYXRpb24uZGF0YSEuc3RhdHVzKVxuICAgICAgICBleHBlY3QoQ29uc3VtcHRpb25SZXF1ZXN0UmVhc29uLlVOSU5URU5ERURfUFVSQ0hBU0UpLnRvQmUobm90aWZpY2F0aW9uLmRhdGEhLmNvbnN1bXB0aW9uUmVxdWVzdFJlYXNvbilcbiAgICB9KVxuICAgIGl0KCdzaG91bGQgZGVjb2RlIGEgc2lnbmVkIHN1bW1hcnkgbm90aWZpY2F0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBzaWduZWROb3RpZmljYXRpb24gPSBjcmVhdGVTaWduZWREYXRhRnJvbUpzb24oXCJ0ZXN0cy9yZXNvdXJjZXMvbW9kZWxzL3NpZ25lZFN1bW1hcnlOb3RpZmljYXRpb24uanNvblwiKVxuXG4gICAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IGF3YWl0IGdldERlZmF1bHRTaWduZWRQYXlsb2FkVmVyaWZpZXIoKS52ZXJpZnlBbmREZWNvZGVOb3RpZmljYXRpb24oc2lnbmVkTm90aWZpY2F0aW9uKVxuXG4gICAgICAgIGV4cGVjdChOb3RpZmljYXRpb25UeXBlVjIuUkVORVdBTF9FWFRFTlNJT04pLnRvQmUobm90aWZpY2F0aW9uLm5vdGlmaWNhdGlvblR5cGUpXG4gICAgICAgIGV4cGVjdChTdWJ0eXBlLlNVTU1BUlkpLnRvQmUobm90aWZpY2F0aW9uLnN1YnR5cGUpXG4gICAgICAgIGV4cGVjdChcIjAwMmUxNGQ1LTUxZjUtNDUwMy1iNWE4LWMzYTFhZjY4ZWIyMFwiKS50b0JlKG5vdGlmaWNhdGlvbi5ub3RpZmljYXRpb25VVUlEKVxuICAgICAgICBleHBlY3QoXCIyLjBcIikudG9CZShub3RpZmljYXRpb24udmVyc2lvbilcbiAgICAgICAgZXhwZWN0KDE2OTgxNDg5MDAwMDApLnRvQmUobm90aWZpY2F0aW9uLnNpZ25lZERhdGUpXG4gICAgICAgIGV4cGVjdChub3RpZmljYXRpb24uZGF0YSkudG9CZUZhbHN5KCk7XG4gICAgICAgIGV4cGVjdChub3RpZmljYXRpb24uc3VtbWFyeSkudG9CZVRydXRoeSgpO1xuICAgICAgICBleHBlY3Qobm90aWZpY2F0aW9uLmV4dGVybmFsUHVyY2hhc2VUb2tlbikudG9CZUZhbHN5KClcbiAgICAgICAgZXhwZWN0KEVudmlyb25tZW50LkxPQ0FMX1RFU1RJTkcpLnRvQmUobm90aWZpY2F0aW9uLnN1bW1hcnkhLmVudmlyb25tZW50KVxuICAgICAgICBleHBlY3QoNDEyMzQpLnRvQmUobm90aWZpY2F0aW9uLnN1bW1hcnkhLmFwcEFwcGxlSWQpXG4gICAgICAgIGV4cGVjdChcImNvbS5leGFtcGxlXCIpLnRvQmUobm90aWZpY2F0aW9uLnN1bW1hcnkhLmJ1bmRsZUlkKVxuICAgICAgICBleHBlY3QoXCJjb20uZXhhbXBsZS5wcm9kdWN0XCIpLnRvQmUobm90aWZpY2F0aW9uLnN1bW1hcnkhLnByb2R1Y3RJZClcbiAgICAgICAgZXhwZWN0KFwiZWZiMjcwNzEtNDVhNC00YWNhLTk4NTQtMmExZTkxNDZmMjY1XCIpLnRvQmUobm90aWZpY2F0aW9uLnN1bW1hcnkhLnJlcXVlc3RJZGVudGlmaWVyKVxuICAgICAgICBleHBlY3QoW1wiQ0FOXCIsIFwiVVNBXCIsIFwiTUVYXCJdKS50b1N0cmljdEVxdWFsKG5vdGlmaWNhdGlvbi5zdW1tYXJ5IS5zdG9yZWZyb250Q291bnRyeUNvZGVzKVxuICAgICAgICBleHBlY3QoNSkudG9CZShub3RpZmljYXRpb24uc3VtbWFyeSEuc3VjY2VlZGVkQ291bnQpXG4gICAgICAgIGV4cGVjdCgyKS50b0JlKG5vdGlmaWNhdGlvbi5zdW1tYXJ5IS5mYWlsZWRDb3VudClcbiAgICB9KVxuXG4gICAgaXQoJ3Nob3VsZCBkZWNvZGUgYSBzaWduZWQgZXh0ZXJuYWwgcHVyY2hhc2UgdG9rZW4gbm90aWZpY2F0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBzaWduZWROb3RpZmljYXRpb24gPSBjcmVhdGVTaWduZWREYXRhRnJvbUpzb24oXCJ0ZXN0cy9yZXNvdXJjZXMvbW9kZWxzL3NpZ25lZEV4dGVybmFsUHVyY2hhc2VUb2tlbk5vdGlmaWNhdGlvbi5qc29uXCIpXG5cbiAgICAgICAgY29uc3QgdmVyaWZpZXIgPSBhd2FpdCBnZXREZWZhdWx0U2lnbmVkUGF5bG9hZFZlcmlmaWVyKCk7XG4gICAgICAgICh2ZXJpZmllciBhcyBhbnkpLnZlcmlmeU5vdGlmaWNhdGlvbiA9IGZ1bmN0aW9uKGJ1bmRsZUlkPzogc3RyaW5nLCBhcHBBcHBsZUlkPzogbnVtYmVyLCBlbnZpcm9ubWVudD86IHN0cmluZykge1xuICAgICAgICAgICAgZXhwZWN0KGJ1bmRsZUlkKS50b0JlKFwiY29tLmV4YW1wbGVcIilcbiAgICAgICAgICAgIGV4cGVjdChhcHBBcHBsZUlkKS50b0JlKDU1NTU1KVxuICAgICAgICAgICAgZXhwZWN0KGVudmlyb25tZW50KS50b0JlKEVudmlyb25tZW50LlBST0RVQ1RJT04pXG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgbm90aWZpY2F0aW9uID0gYXdhaXQgdmVyaWZpZXIudmVyaWZ5QW5kRGVjb2RlTm90aWZpY2F0aW9uKHNpZ25lZE5vdGlmaWNhdGlvbilcblxuICAgICAgICBleHBlY3QoTm90aWZpY2F0aW9uVHlwZVYyLkVYVEVSTkFMX1BVUkNIQVNFX1RPS0VOKS50b0JlKG5vdGlmaWNhdGlvbi5ub3RpZmljYXRpb25UeXBlKVxuICAgICAgICBleHBlY3QoU3VidHlwZS5VTlJFUE9SVEVEKS50b0JlKG5vdGlmaWNhdGlvbi5zdWJ0eXBlKVxuICAgICAgICBleHBlY3QoXCIwMDJlMTRkNS01MWY1LTQ1MDMtYjVhOC1jM2ExYWY2OGViMjBcIikudG9CZShub3RpZmljYXRpb24ubm90aWZpY2F0aW9uVVVJRClcbiAgICAgICAgZXhwZWN0KFwiMi4wXCIpLnRvQmUobm90aWZpY2F0aW9uLnZlcnNpb24pXG4gICAgICAgIGV4cGVjdCgxNjk4MTQ4OTAwMDAwKS50b0JlKG5vdGlmaWNhdGlvbi5zaWduZWREYXRlKVxuICAgICAgICBleHBlY3Qobm90aWZpY2F0aW9uLmRhdGEpLnRvQmVGYWxzeSgpO1xuICAgICAgICBleHBlY3Qobm90aWZpY2F0aW9uLnN1bW1hcnkpLnRvQmVGYWxzeSgpO1xuICAgICAgICBleHBlY3Qobm90aWZpY2F0aW9uLmV4dGVybmFsUHVyY2hhc2VUb2tlbikudG9CZVRydXRoeSgpXG4gICAgICAgIGV4cGVjdChcImIyMTU4MTIxLTdhZjktNDlkNC05NTYxLTFmNTg4MjA1NTIzZVwiKS50b0JlKG5vdGlmaWNhdGlvbi5leHRlcm5hbFB1cmNoYXNlVG9rZW4hLmV4dGVybmFsUHVyY2hhc2VJZClcbiAgICAgICAgZXhwZWN0KDE2OTgxNDg5NTAwMDApLnRvQmUobm90aWZpY2F0aW9uLmV4dGVybmFsUHVyY2hhc2VUb2tlbiEudG9rZW5DcmVhdGlvbkRhdGUpXG4gICAgICAgIGV4cGVjdCg1NTU1NSkudG9CZShub3RpZmljYXRpb24uZXh0ZXJuYWxQdXJjaGFzZVRva2VuIS5hcHBBcHBsZUlkKVxuICAgICAgICBleHBlY3QoXCJjb20uZXhhbXBsZVwiKS50b0JlKG5vdGlmaWNhdGlvbi5leHRlcm5hbFB1cmNoYXNlVG9rZW4hLmJ1bmRsZUlkKVxuICAgIH0pXG5cbiAgICBpdCgnc2hvdWxkIGRlY29kZSBhIHNpZ25lZCBzYW5kYm94IGV4dGVybmFsIHB1cmNoYXNlIHRva2VuIG5vdGlmaWNhdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3Qgc2lnbmVkTm90aWZpY2F0aW9uID0gY3JlYXRlU2lnbmVkRGF0YUZyb21Kc29uKFwidGVzdHMvcmVzb3VyY2VzL21vZGVscy9zaWduZWRFeHRlcm5hbFB1cmNoYXNlVG9rZW5TYW5kYm94Tm90aWZpY2F0aW9uLmpzb25cIilcblxuICAgICAgICBjb25zdCB2ZXJpZmllciA9IGF3YWl0IGdldERlZmF1bHRTaWduZWRQYXlsb2FkVmVyaWZpZXIoKTtcbiAgICAgICAgKHZlcmlmaWVyIGFzIGFueSkudmVyaWZ5Tm90aWZpY2F0aW9uID0gZnVuY3Rpb24oYnVuZGxlSWQ/OiBzdHJpbmcsIGFwcEFwcGxlSWQ/OiBudW1iZXIsIGVudmlyb25tZW50Pzogc3RyaW5nKSB7XG4gICAgICAgICAgICBleHBlY3QoYnVuZGxlSWQpLnRvQmUoXCJjb20uZXhhbXBsZVwiKVxuICAgICAgICAgICAgZXhwZWN0KGFwcEFwcGxlSWQpLnRvQmUoNTU1NTUpXG4gICAgICAgICAgICBleHBlY3QoZW52aXJvbm1lbnQpLnRvQmUoRW52aXJvbm1lbnQuU0FOREJPWClcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBub3RpZmljYXRpb24gPSBhd2FpdCB2ZXJpZmllci52ZXJpZnlBbmREZWNvZGVOb3RpZmljYXRpb24oc2lnbmVkTm90aWZpY2F0aW9uKVxuXG4gICAgICAgIGV4cGVjdChOb3RpZmljYXRpb25UeXBlVjIuRVhURVJOQUxfUFVSQ0hBU0VfVE9LRU4pLnRvQmUobm90aWZpY2F0aW9uLm5vdGlmaWNhdGlvblR5cGUpXG4gICAgICAgIGV4cGVjdChTdWJ0eXBlLlVOUkVQT1JURUQpLnRvQmUobm90aWZpY2F0aW9uLnN1YnR5cGUpXG4gICAgICAgIGV4cGVjdChcIjAwMmUxNGQ1LTUxZjUtNDUwMy1iNWE4LWMzYTFhZjY4ZWIyMFwiKS50b0JlKG5vdGlmaWNhdGlvbi5ub3RpZmljYXRpb25VVUlEKVxuICAgICAgICBleHBlY3QoXCIyLjBcIikudG9CZShub3RpZmljYXRpb24udmVyc2lvbilcbiAgICAgICAgZXhwZWN0KDE2OTgxNDg5MDAwMDApLnRvQmUobm90aWZpY2F0aW9uLnNpZ25lZERhdGUpXG4gICAgICAgIGV4cGVjdChub3RpZmljYXRpb24uZGF0YSkudG9CZUZhbHN5KCk7XG4gICAgICAgIGV4cGVjdChub3RpZmljYXRpb24uc3VtbWFyeSkudG9CZUZhbHN5KCk7XG4gICAgICAgIGV4cGVjdChub3RpZmljYXRpb24uZXh0ZXJuYWxQdXJjaGFzZVRva2VuKS50b0JlVHJ1dGh5KClcbiAgICAgICAgZXhwZWN0KFwiU0FOREJPWF9iMjE1ODEyMS03YWY5LTQ5ZDQtOTU2MS0xZjU4ODIwNTUyM2VcIikudG9CZShub3RpZmljYXRpb24uZXh0ZXJuYWxQdXJjaGFzZVRva2VuIS5leHRlcm5hbFB1cmNoYXNlSWQpXG4gICAgICAgIGV4cGVjdCgxNjk4MTQ4OTUwMDAwKS50b0JlKG5vdGlmaWNhdGlvbi5leHRlcm5hbFB1cmNoYXNlVG9rZW4hLnRva2VuQ3JlYXRpb25EYXRlKVxuICAgICAgICBleHBlY3QoNTU1NTUpLnRvQmUobm90aWZpY2F0aW9uLmV4dGVybmFsUHVyY2hhc2VUb2tlbiEuYXBwQXBwbGVJZClcbiAgICAgICAgZXhwZWN0KFwiY29tLmV4YW1wbGVcIikudG9CZShub3RpZmljYXRpb24uZXh0ZXJuYWxQdXJjaGFzZVRva2VuIS5idW5kbGVJZClcbiAgICB9KVxufSkiXX0=